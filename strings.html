<!DOCTYPE html>
<html lang="" xml:lang="">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>14 Strings | R for Data Science: Exercise Solutions</title>
<meta name="description" content="Solutions to the exercises in “R for Data Science” by Garrett Grolemund and Hadley Wickham.">
<meta name="generator" content="bookdown 0.19.4 and GitBook 2.6.7">
<meta property="og:title" content="14 Strings | R for Data Science: Exercise Solutions">
<meta property="og:type" content="book">
<meta property="og:url" content="http://jrnold.github.io/r4ds-exercise-solutions">
<meta property="og:image" content="http://jrnold.github.io/r4ds-exercise-solutions/img/r4ds-exercise-solutions-cover.png">
<meta property="og:description" content="Solutions to the exercises in “R for Data Science” by Garrett Grolemund and Hadley Wickham.">
<meta name="github-repo" content="jrnold/r4ds-exercise-solutions">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="14 Strings | R for Data Science: Exercise Solutions">
<meta name="twitter:site" content="@jrnld">
<meta name="twitter:description" content="Solutions to the exercises in “R for Data Science” by Garrett Grolemund and Hadley Wickham.">
<meta name="twitter:image" content="http://jrnold.github.io/r4ds-exercise-solutions/img/r4ds-exercise-solutions-cover.png">
<meta name="author" content="Jeffrey B. Arnold">
<meta name="date" content="2020-06-23">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="prev" href="relational-data.html">
<link rel="next" href="factors.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script><link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet">
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet">
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet">
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet">
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet">
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet">
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script><link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet">
<script src="libs/str_view-binding-1.4.0/str_view.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-61453123-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-61453123-2');
</script><!--
License: MIT License
Copyright (c) 2016 Open Review Toolkit & Ben Marwick

See https://github.com/benmarwick/bookdown-ort/blob/master/hypothesis.html
--><script async defer src="https://hypothes.is/embed.js"></script><script>window.hypothesisConfig = function () { return {showHighlights: false}; };</script><style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<link rel="stylesheet" href="includes/r4ds.css" type="text/css">
<link rel="stylesheet" href="includes/r4ds-solutions.css" type="text/css">
<link rel="stylesheet" href="includes/ort.css" type="text/css">
</head>
<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation"><ul class="summary">
<li><strong><a href="./">R for Data Science:<br>Exercise Solutions</a></strong></li>

<li class="divider">
<li class="chapter" data-level="" data-path="index.html">
<a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
</ul>
</li>
<li class="chapter" data-level="1" data-path="introduction.html">
<a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#how-this-book-is-organized"><i class="fa fa-check"></i>How this book is organized</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#bugscontributing"><i class="fa fa-check"></i>Bugs/Contributing</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html#colophon"><i class="fa fa-check"></i>Colophon</a></li>
</ul>
</li>
<li class="part"><span><b>I Explore</b></span></li>
<li class="chapter" data-level="2" data-path="explore-intro.html"><a href="explore-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-visualisation.html">
<a href="data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Data visualisation</a><ul>
<li class="chapter" data-level="3.1" data-path="data-visualisation.html"><a href="data-visualisation.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="data-visualisation.html">
<a href="data-visualisation.html#first-steps"><i class="fa fa-check"></i><b>3.2</b> First steps</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.2.1"><i class="fa fa-check"></i>Exercise 3.2.1</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.2.2"><i class="fa fa-check"></i>Exercise 3.2.2</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.2.3"><i class="fa fa-check"></i>Exercise 3.2.3</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.2.4"><i class="fa fa-check"></i>Exercise 3.2.4</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.2.5"><i class="fa fa-check"></i>Exercise 3.2.5</a></li>
</ul>
</li>
<li class="chapter" data-level="3.3" data-path="data-visualisation.html">
<a href="data-visualisation.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.3</b> Aesthetic mappings</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.3.1"><i class="fa fa-check"></i>Exercise 3.3.1</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.3.2"><i class="fa fa-check"></i>Exercise 3.3.2</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.3.3"><i class="fa fa-check"></i>Exercise 3.3.3</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.3.4"><i class="fa fa-check"></i>Exercise 3.3.4</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.3.5"><i class="fa fa-check"></i>Exercise 3.3.5</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.3.6"><i class="fa fa-check"></i>Exercise 3.3.6</a></li>
</ul>
</li>
<li class="chapter" data-level="3.4" data-path="data-visualisation.html"><a href="data-visualisation.html#common-problems"><i class="fa fa-check"></i><b>3.4</b> Common problems</a></li>
<li class="chapter" data-level="3.5" data-path="data-visualisation.html">
<a href="data-visualisation.html#facets"><i class="fa fa-check"></i><b>3.5</b> Facets</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.5.1"><i class="fa fa-check"></i>Exercise 3.5.1</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.5.2"><i class="fa fa-check"></i>Exercise 3.5.2</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.5.3"><i class="fa fa-check"></i>Exercise 3.5.3</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.5.4"><i class="fa fa-check"></i>Exercise 3.5.4</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.5.5"><i class="fa fa-check"></i>Exercise 3.5.5</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.5.6"><i class="fa fa-check"></i>Exercise 3.5.6</a></li>
</ul>
</li>
<li class="chapter" data-level="3.6" data-path="data-visualisation.html">
<a href="data-visualisation.html#geometric-objects"><i class="fa fa-check"></i><b>3.6</b> Geometric objects</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.6.1"><i class="fa fa-check"></i>Exercise 3.6.1</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.6.2"><i class="fa fa-check"></i>Exercise 3.6.2</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.6.3"><i class="fa fa-check"></i>Exercise 3.6.3</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.6.4"><i class="fa fa-check"></i>Exercise 3.6.4</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.6.5"><i class="fa fa-check"></i>Exercise 3.6.5</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.6.6"><i class="fa fa-check"></i>Exercise 3.6.6</a></li>
</ul>
</li>
<li class="chapter" data-level="3.7" data-path="data-visualisation.html">
<a href="data-visualisation.html#statistical-transformations"><i class="fa fa-check"></i><b>3.7</b> Statistical transformations</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.7.1"><i class="fa fa-check"></i>Exercise 3.7.1</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.7.2"><i class="fa fa-check"></i>Exercise 3.7.2</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.7.3"><i class="fa fa-check"></i>Exercise 3.7.3</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.7.4"><i class="fa fa-check"></i>Exercise 3.7.4</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.7.5"><i class="fa fa-check"></i>Exercise 3.7.5</a></li>
</ul>
</li>
<li class="chapter" data-level="3.8" data-path="data-visualisation.html">
<a href="data-visualisation.html#position-adjustments"><i class="fa fa-check"></i><b>3.8</b> Position adjustments</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.8.1"><i class="fa fa-check"></i>Exercise 3.8.1</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.8.2"><i class="fa fa-check"></i>Exercise 3.8.2</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.8.3"><i class="fa fa-check"></i>Exercise 3.8.3</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.8.4"><i class="fa fa-check"></i>Exercise 3.8.4</a></li>
</ul>
</li>
<li class="chapter" data-level="3.9" data-path="data-visualisation.html">
<a href="data-visualisation.html#coordinate-systems"><i class="fa fa-check"></i><b>3.9</b> Coordinate systems</a><ul>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.9.1"><i class="fa fa-check"></i>Exercise 3.9.1</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.9.2"><i class="fa fa-check"></i>Exercise 3.9.2</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.9.3"><i class="fa fa-check"></i>Exercise 3.9.3</a></li>
<li class="chapter" data-level="" data-path="data-visualisation.html"><a href="data-visualisation.html#exercise-3.9.4"><i class="fa fa-check"></i>Exercise 3.9.4</a></li>
</ul>
</li>
<li class="chapter" data-level="3.10" data-path="data-visualisation.html"><a href="data-visualisation.html#the-layered-grammar-of-graphics"><i class="fa fa-check"></i><b>3.10</b> The layered grammar of graphics</a></li>
</ul>
</li>
<li class="chapter" data-level="4" data-path="workflow-basics.html">
<a href="workflow-basics.html"><i class="fa fa-check"></i><b>4</b> Workflow: basics</a><ul>
<li class="chapter" data-level="" data-path="workflow-basics.html"><a href="workflow-basics.html#exercise-4.1"><i class="fa fa-check"></i>Exercise 4.1</a></li>
<li class="chapter" data-level="" data-path="workflow-basics.html"><a href="workflow-basics.html#exercise-4.2"><i class="fa fa-check"></i>Exercise 4.2</a></li>
<li class="chapter" data-level="" data-path="workflow-basics.html"><a href="workflow-basics.html#exercise-4.3"><i class="fa fa-check"></i>Exercise 4.3</a></li>
</ul>
</li>
<li class="chapter" data-level="5" data-path="transform.html">
<a href="transform.html"><i class="fa fa-check"></i><b>5</b> Data transformation</a><ul>
<li class="chapter" data-level="5.1" data-path="transform.html"><a href="transform.html#introduction-2"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="transform.html">
<a href="transform.html#filter-rows-with-filter"><i class="fa fa-check"></i><b>5.2</b> Filter rows with <code>filter()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.2.1"><i class="fa fa-check"></i>Exercise 5.2.1</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.2.2"><i class="fa fa-check"></i>Exercise 5.2.2</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.2.3"><i class="fa fa-check"></i>Exercise 5.2.3</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.2.4"><i class="fa fa-check"></i>Exercise 5.2.4</a></li>
</ul>
</li>
<li class="chapter" data-level="5.3" data-path="transform.html">
<a href="transform.html#arrange-rows-with-arrange"><i class="fa fa-check"></i><b>5.3</b> Arrange rows with <code>arrange()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.3.1"><i class="fa fa-check"></i>Exercise 5.3.1</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.3.2"><i class="fa fa-check"></i>Exercise 5.3.2</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.3.3"><i class="fa fa-check"></i>Exercise 5.3.3</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.3.4"><i class="fa fa-check"></i>Exercise 5.3.4</a></li>
</ul>
</li>
<li class="chapter" data-level="5.4" data-path="transform.html">
<a href="transform.html#select"><i class="fa fa-check"></i><b>5.4</b> Select columns with <code>select()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.4.1"><i class="fa fa-check"></i>Exercise 5.4.1</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.4.2"><i class="fa fa-check"></i>Exercise 5.4.2</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.4.3"><i class="fa fa-check"></i>Exercise 5.4.3</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.4.4"><i class="fa fa-check"></i>Exercise 5.4.4</a></li>
</ul>
</li>
<li class="chapter" data-level="5.5" data-path="transform.html">
<a href="transform.html#add-new-variables-with-mutate"><i class="fa fa-check"></i><b>5.5</b> Add new variables with <code>mutate()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.5.1"><i class="fa fa-check"></i>Exercise 5.5.1</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.5.2"><i class="fa fa-check"></i>Exercise 5.5.2</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.5.3"><i class="fa fa-check"></i>Exercise 5.5.3</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.5.4"><i class="fa fa-check"></i>Exercise 5.5.4</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.5.5"><i class="fa fa-check"></i>Exercise 5.5.5</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.5.6"><i class="fa fa-check"></i>Exercise 5.5.6</a></li>
</ul>
</li>
<li class="chapter" data-level="5.6" data-path="transform.html">
<a href="transform.html#grouped-summaries-with-summarise"><i class="fa fa-check"></i><b>5.6</b> Grouped summaries with <code>summarise()</code></a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.6.1"><i class="fa fa-check"></i>Exercise 5.6.1</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.6.2"><i class="fa fa-check"></i>Exercise 5.6.2</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.6.3"><i class="fa fa-check"></i>Exercise 5.6.3</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.6.4"><i class="fa fa-check"></i>Exercise 5.6.4</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.6.5"><i class="fa fa-check"></i>Exercise 5.6.5</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.6.6"><i class="fa fa-check"></i>Exercise 5.6.6</a></li>
</ul>
</li>
<li class="chapter" data-level="5.7" data-path="transform.html">
<a href="transform.html#grouped-mutates-and-filters"><i class="fa fa-check"></i><b>5.7</b> Grouped mutates (and filters)</a><ul>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.1"><i class="fa fa-check"></i>Exercise 5.7.1</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.2"><i class="fa fa-check"></i>Exercise 5.7.2</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.3"><i class="fa fa-check"></i>Exercise 5.7.3</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.4"><i class="fa fa-check"></i>Exercise 5.7.4</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.5"><i class="fa fa-check"></i>Exercise 5.7.5</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.6"><i class="fa fa-check"></i>Exercise 5.7.6</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.7"><i class="fa fa-check"></i>Exercise 5.7.7</a></li>
<li class="chapter" data-level="" data-path="transform.html"><a href="transform.html#exercise-5.7.8"><i class="fa fa-check"></i>Exercise 5.7.8</a></li>
</ul>
</li>
</ul>
</li>
<li class="chapter" data-level="6" data-path="workflow-scripts.html">
<a href="workflow-scripts.html"><i class="fa fa-check"></i><b>6</b> Workflow: scripts</a><ul>
<li class="chapter" data-level="" data-path="workflow-scripts.html"><a href="workflow-scripts.html#exercise-6.1"><i class="fa fa-check"></i>Exercise 6.1</a></li>
<li class="chapter" data-level="" data-path="workflow-scripts.html"><a href="workflow-scripts.html#exercise-6.2"><i class="fa fa-check"></i>Exercise 6.2</a></li>
</ul>
</li>
<li class="chapter" data-level="7" data-path="exploratory-data-analysis.html">
<a href="exploratory-data-analysis.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="7.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#questions"><i class="fa fa-check"></i><b>7.2</b> Questions</a></li>
<li class="chapter" data-level="7.3" data-path="exploratory-data-analysis.html">
<a href="exploratory-data-analysis.html#variation"><i class="fa fa-check"></i><b>7.3</b> Variation</a><ul>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercise-7.3.1"><i class="fa fa-check"></i>Exercise 7.3.1</a></li>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercise-7.3.2"><i class="fa fa-check"></i>Exercise 7.3.2</a></li>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercise-7.3.3"><i class="fa fa-check"></i>Exercise 7.3.3</a></li>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercise-7.3.4"><i class="fa fa-check"></i>Exercise 7.3.4</a></li>
</ul>
</li>
<li class="chapter" data-level="7.4" data-path="exploratory-data-analysis.html">
<a href="exploratory-data-analysis.html#missing-values-2"><i class="fa fa-check"></i><b>7.4</b> Missing values</a><ul>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercise-7.4.1"><i class="fa fa-check"></i>Exercise 7.4.1</a></li>
<li class="chapter" data-level="" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#exercise-7.4.2"><i class="fa fa-check"></i>Exercise 7.4.2</a></li>
</ul>
</li>
<li class="chapter" data-level="7.5" data-path="exploratory-data-analysis.html">
<a href="exploratory-data-analysis.html#covariation"><i class="fa fa-check"></i><b>7.5</b> Covariation</a><ul>
<li class="chapter" data-level="7.5.1" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#a-categorical-and-continuous-variable"><i class="fa fa-check"></i><b>7.5.1</b> A categorical and continuous variable</a></li>
<li class="chapter" data-level="7.5.2" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-categorical-variables"><i class="fa fa-check"></i><b>7.5.2</b> Two categorical variables</a></li>
<li class="chapter" data-level="7.5.3" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#two-continuous-variables"><i class="fa fa-check"></i><b>7.5.3</b> Two continuous variables</a></li>
</ul>
</li>
<li class="chapter" data-level="7.6" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#patterns-and-models"><i class="fa fa-check"></i><b>7.6</b> Patterns and models</a></li>
<li class="chapter" data-level="7.7" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#ggplot2-calls"><i class="fa fa-check"></i><b>7.7</b> ggplot2 calls</a></li>
<li class="chapter" data-level="7.8" data-path="exploratory-data-analysis.html"><a href="exploratory-data-analysis.html#learning-more"><i class="fa fa-check"></i><b>7.8</b> Learning more</a></li>
</ul>
</li>
<li class="chapter" data-level="8" data-path="workflow-projects.html"><a href="workflow-projects.html"><i class="fa fa-check"></i><b>8</b> Workflow: projects</a></li>
<li class="part"><span><b>II Wrangle</b></span></li>
<li class="chapter" data-level="9" data-path="wrangle-intro.html"><a href="wrangle-intro.html"><i class="fa fa-check"></i><b>9</b> Introduction</a></li>
<li class="chapter" data-level="10" data-path="tibbles.html">
<a href="tibbles.html"><i class="fa fa-check"></i><b>10</b> Tibbles</a><ul>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#exercise-10.1"><i class="fa fa-check"></i>Exercise 10.1</a></li>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#exercise-10.2"><i class="fa fa-check"></i>Exercise 10.2</a></li>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#exercise-10.3"><i class="fa fa-check"></i>Exercise 10.3</a></li>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#exercise-10.4"><i class="fa fa-check"></i>Exercise 10.4</a></li>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#exercise-10.5"><i class="fa fa-check"></i>Exercise 10.5</a></li>
<li class="chapter" data-level="" data-path="tibbles.html"><a href="tibbles.html#exercise-10.6"><i class="fa fa-check"></i>Exercise 10.6</a></li>
</ul>
</li>
<li class="chapter" data-level="11" data-path="data-import.html">
<a href="data-import.html"><i class="fa fa-check"></i><b>11</b> Data import</a><ul>
<li class="chapter" data-level="11.1" data-path="data-import.html"><a href="data-import.html#introduction-5"><i class="fa fa-check"></i><b>11.1</b> Introduction</a></li>
<li class="chapter" data-level="11.2" data-path="data-import.html">
<a href="data-import.html#getting-started"><i class="fa fa-check"></i><b>11.2</b> Getting started</a><ul>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.2.1"><i class="fa fa-check"></i>Exercise 11.2.1</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.2.2"><i class="fa fa-check"></i>Exercise 11.2.2</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.2.3"><i class="fa fa-check"></i>Exercise 11.2.3</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.2.4"><i class="fa fa-check"></i>Exercise 11.2.4</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.2.5"><i class="fa fa-check"></i>Exercise 11.2.5</a></li>
</ul>
</li>
<li class="chapter" data-level="11.3" data-path="data-import.html">
<a href="data-import.html#parsing-a-vector"><i class="fa fa-check"></i><b>11.3</b> Parsing a vector</a><ul>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.3.1"><i class="fa fa-check"></i>Exercise 11.3.1</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.3.2"><i class="fa fa-check"></i>Exercise 11.3.2</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.3.3"><i class="fa fa-check"></i>Exercise 11.3.3</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.3.4"><i class="fa fa-check"></i>Exercise 11.3.4</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.3.5"><i class="fa fa-check"></i>Exercise 11.3.5</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.3.6"><i class="fa fa-check"></i>Exercise 11.3.6</a></li>
<li class="chapter" data-level="" data-path="data-import.html"><a href="data-import.html#exercise-11.3.7"><i class="fa fa-check"></i>Exercise 11.3.7</a></li>
</ul>
</li>
<li class="chapter" data-level="11.4" data-path="data-import.html"><a href="data-import.html#parsing-a-file"><i class="fa fa-check"></i><b>11.4</b> Parsing a file</a></li>
<li class="chapter" data-level="11.5" data-path="data-import.html"><a href="data-import.html#writing-to-a-file"><i class="fa fa-check"></i><b>11.5</b> Writing to a file</a></li>
<li class="chapter" data-level="11.6" data-path="data-import.html"><a href="data-import.html#other-types-of-data"><i class="fa fa-check"></i><b>11.6</b> Other types of data</a></li>
</ul>
</li>
<li class="chapter" data-level="12" data-path="tidy-data.html">
<a href="tidy-data.html"><i class="fa fa-check"></i><b>12</b> Tidy data</a><ul>
<li class="chapter" data-level="12.1" data-path="tidy-data.html"><a href="tidy-data.html#introduction-6"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="tidy-data.html">
<a href="tidy-data.html#tidy-data-1"><i class="fa fa-check"></i><b>12.2</b> Tidy data</a><ul>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.2.1"><i class="fa fa-check"></i>Exercise 12.2.1</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.2.2"><i class="fa fa-check"></i>Exercise 12.2.2</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.2.3"><i class="fa fa-check"></i>Exercise 12.2.3</a></li>
</ul>
</li>
<li class="chapter" data-level="12.3" data-path="tidy-data.html">
<a href="tidy-data.html#pivoting"><i class="fa fa-check"></i><b>12.3</b> Pivoting</a><ul>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.3.1"><i class="fa fa-check"></i>Exercise 12.3.1</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.3.2"><i class="fa fa-check"></i>Exercise 12.3.2</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.3.3"><i class="fa fa-check"></i>Exercise 12.3.3</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.3.4"><i class="fa fa-check"></i>Exercise 12.3.4</a></li>
</ul>
</li>
<li class="chapter" data-level="12.4" data-path="tidy-data.html">
<a href="tidy-data.html#separating-and-uniting"><i class="fa fa-check"></i><b>12.4</b> Separating and uniting</a><ul>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.4.1"><i class="fa fa-check"></i>Exercise 12.4.1</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.4.2"><i class="fa fa-check"></i>Exercise 12.4.2</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.4.3"><i class="fa fa-check"></i>Exercise 12.4.3</a></li>
</ul>
</li>
<li class="chapter" data-level="12.5" data-path="tidy-data.html">
<a href="tidy-data.html#missing-values-3"><i class="fa fa-check"></i><b>12.5</b> Missing values</a><ul>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.5.1"><i class="fa fa-check"></i>Exercise 12.5.1</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.5.2"><i class="fa fa-check"></i>Exercise 12.5.2</a></li>
</ul>
</li>
<li class="chapter" data-level="12.6" data-path="tidy-data.html">
<a href="tidy-data.html#case-study"><i class="fa fa-check"></i><b>12.6</b> Case Study</a><ul>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.6.1"><i class="fa fa-check"></i>Exercise 12.6.1</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.6.2"><i class="fa fa-check"></i>Exercise 12.6.2</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.6.3"><i class="fa fa-check"></i>Exercise 12.6.3</a></li>
<li class="chapter" data-level="" data-path="tidy-data.html"><a href="tidy-data.html#exercise-12.6.4"><i class="fa fa-check"></i>Exercise 12.6.4</a></li>
</ul>
</li>
<li class="chapter" data-level="12.7" data-path="tidy-data.html"><a href="tidy-data.html#non-tidy-data"><i class="fa fa-check"></i><b>12.7</b> Non-tidy data</a></li>
</ul>
</li>
<li class="chapter" data-level="13" data-path="relational-data.html">
<a href="relational-data.html"><i class="fa fa-check"></i><b>13</b> Relational data</a><ul>
<li class="chapter" data-level="13.1" data-path="relational-data.html"><a href="relational-data.html#introduction-7"><i class="fa fa-check"></i><b>13.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2" data-path="relational-data.html">
<a href="relational-data.html#nycflights13-relational"><i class="fa fa-check"></i><b>13.2</b> nycflights13</a><ul>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.2.1"><i class="fa fa-check"></i>Exercise 13.2.1</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.2.2"><i class="fa fa-check"></i>Exercise 13.2.2</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.2.3"><i class="fa fa-check"></i>Exercise 13.2.3</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.2.4"><i class="fa fa-check"></i>Exercise 13.2.4</a></li>
</ul>
</li>
<li class="chapter" data-level="13.3" data-path="relational-data.html">
<a href="relational-data.html#keys"><i class="fa fa-check"></i><b>13.3</b> Keys</a><ul>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.3.1"><i class="fa fa-check"></i>Exercise 13.3.1</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.3.2"><i class="fa fa-check"></i>Exercise 13.3.2</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.3.3"><i class="fa fa-check"></i>Exercise 13.3.3</a></li>
</ul>
</li>
<li class="chapter" data-level="13.4" data-path="relational-data.html">
<a href="relational-data.html#mutating-joins"><i class="fa fa-check"></i><b>13.4</b> Mutating joins</a><ul>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.4.1"><i class="fa fa-check"></i>Exercise 13.4.1</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.4.2"><i class="fa fa-check"></i>Exercise 13.4.2</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.4.3"><i class="fa fa-check"></i>Exercise 13.4.3</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.4.4"><i class="fa fa-check"></i>Exercise 13.4.4</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.4.5"><i class="fa fa-check"></i>Exercise 13.4.5</a></li>
</ul>
</li>
<li class="chapter" data-level="13.5" data-path="relational-data.html">
<a href="relational-data.html#filtering-joins"><i class="fa fa-check"></i><b>13.5</b> Filtering joins</a><ul>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.5.1"><i class="fa fa-check"></i>Exercise 13.5.1</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.5.2"><i class="fa fa-check"></i>Exercise 13.5.2</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.5.3"><i class="fa fa-check"></i>Exercise 13.5.3</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.5.4"><i class="fa fa-check"></i>Exercise 13.5.4</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.5.5"><i class="fa fa-check"></i>Exercise 13.5.5</a></li>
<li class="chapter" data-level="" data-path="relational-data.html"><a href="relational-data.html#exercise-13.5.6"><i class="fa fa-check"></i>Exercise 13.5.6</a></li>
</ul>
</li>
<li class="chapter" data-level="13.6" data-path="relational-data.html"><a href="relational-data.html#join-problems"><i class="fa fa-check"></i><b>13.6</b> Join problems</a></li>
<li class="chapter" data-level="13.7" data-path="relational-data.html"><a href="relational-data.html#set-operations"><i class="fa fa-check"></i><b>13.7</b> Set operations</a></li>
</ul>
</li>
<li class="chapter" data-level="14" data-path="strings.html">
<a href="strings.html"><i class="fa fa-check"></i><b>14</b> Strings</a><ul>
<li class="chapter" data-level="14.1" data-path="strings.html"><a href="strings.html#introduction-8"><i class="fa fa-check"></i><b>14.1</b> Introduction</a></li>
<li class="chapter" data-level="14.2" data-path="strings.html">
<a href="strings.html#string-basics"><i class="fa fa-check"></i><b>14.2</b> String basics</a><ul>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.2.1"><i class="fa fa-check"></i>Exercise 14.2.1</a></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.2.2"><i class="fa fa-check"></i>Exercise 14.2.2</a></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.2.3"><i class="fa fa-check"></i>Exercise 14.2.3</a></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.2.4"><i class="fa fa-check"></i>Exercise 14.2.4</a></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.2.5"><i class="fa fa-check"></i>Exercise 14.2.5</a></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.2.6"><i class="fa fa-check"></i>Exercise 14.2.6</a></li>
</ul>
</li>
<li class="chapter" data-level="14.3" data-path="strings.html">
<a href="strings.html#matching-patterns-with-regular-expressions"><i class="fa fa-check"></i><b>14.3</b> Matching patterns with regular expressions</a><ul>
<li class="chapter" data-level="14.3.1" data-path="strings.html"><a href="strings.html#basic-matches"><i class="fa fa-check"></i><b>14.3.1</b> Basic matches</a></li>
<li class="chapter" data-level="14.3.2" data-path="strings.html"><a href="strings.html#anchors"><i class="fa fa-check"></i><b>14.3.2</b> Anchors</a></li>
<li class="chapter" data-level="14.3.3" data-path="strings.html"><a href="strings.html#character-classes-and-alternatives"><i class="fa fa-check"></i><b>14.3.3</b> Character classes and alternatives</a></li>
<li class="chapter" data-level="14.3.4" data-path="strings.html"><a href="strings.html#repetition"><i class="fa fa-check"></i><b>14.3.4</b> Repetition</a></li>
<li class="chapter" data-level="14.3.5" data-path="strings.html"><a href="strings.html#grouping-and-backreferences"><i class="fa fa-check"></i><b>14.3.5</b> Grouping and backreferences</a></li>
</ul>
</li>
<li class="chapter" data-level="14.4" data-path="strings.html">
<a href="strings.html#tools"><i class="fa fa-check"></i><b>14.4</b> Tools</a><ul>
<li class="chapter" data-level="14.4.1" data-path="strings.html"><a href="strings.html#detect-matches"><i class="fa fa-check"></i><b>14.4.1</b> Detect matches</a></li>
<li class="chapter" data-level="14.4.2" data-path="strings.html"><a href="strings.html#extract-matches"><i class="fa fa-check"></i><b>14.4.2</b> Extract matches</a></li>
<li class="chapter" data-level="14.4.3" data-path="strings.html"><a href="strings.html#grouped-matches"><i class="fa fa-check"></i><b>14.4.3</b> Grouped matches</a></li>
<li class="chapter" data-level="14.4.4" data-path="strings.html"><a href="strings.html#replacing-matches"><i class="fa fa-check"></i><b>14.4.4</b> Replacing matches</a></li>
<li class="chapter" data-level="14.4.5" data-path="strings.html"><a href="strings.html#splitting"><i class="fa fa-check"></i><b>14.4.5</b> Splitting</a></li>
<li class="chapter" data-level="14.4.6" data-path="strings.html"><a href="strings.html#find-matches"><i class="fa fa-check"></i><b>14.4.6</b> Find matches</a></li>
</ul>
</li>
<li class="chapter" data-level="14.5" data-path="strings.html">
<a href="strings.html#other-types-of-pattern"><i class="fa fa-check"></i><b>14.5</b> Other types of pattern</a><ul>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.5.1"><i class="fa fa-check"></i>Exercise 14.5.1</a></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.5.2"><i class="fa fa-check"></i>Exercise 14.5.2</a></li>
</ul>
</li>
<li class="chapter" data-level="14.6" data-path="strings.html"><a href="strings.html#other-uses-of-regular-expressions"><i class="fa fa-check"></i><b>14.6</b> Other uses of regular expressions</a></li>
<li class="chapter" data-level="14.7" data-path="strings.html">
<a href="strings.html#stringi"><i class="fa fa-check"></i><b>14.7</b> stringi</a><ul>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.7.1"><i class="fa fa-check"></i>Exercise 14.7.1</a></li>
<li class="chapter" data-level="" data-path="strings.html"><a href="strings.html#exercise-14.7.2"><i class="fa fa-check"></i>Exercise 14.7.2</a></li>
</ul>
</li>
</ul>
</li>
<li class="chapter" data-level="15" data-path="factors.html">
<a href="factors.html"><i class="fa fa-check"></i><b>15</b> Factors</a><ul>
<li class="chapter" data-level="15.1" data-path="factors.html"><a href="factors.html#introduction-9"><i class="fa fa-check"></i><b>15.1</b> Introduction</a></li>
<li class="chapter" data-level="15.2" data-path="factors.html"><a href="factors.html#creating-factors"><i class="fa fa-check"></i><b>15.2</b> Creating factors</a></li>
<li class="chapter" data-level="15.3" data-path="factors.html">
<a href="factors.html#general-social-survey"><i class="fa fa-check"></i><b>15.3</b> General Social Survey</a><ul>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.3.1"><i class="fa fa-check"></i>Exercise 15.3.1</a></li>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.3.2"><i class="fa fa-check"></i>Exercise 15.3.2</a></li>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.3.3"><i class="fa fa-check"></i>Exercise 15.3.3</a></li>
</ul>
</li>
<li class="chapter" data-level="15.4" data-path="factors.html">
<a href="factors.html#modifying-factor-order"><i class="fa fa-check"></i><b>15.4</b> Modifying factor order</a><ul>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.4.1"><i class="fa fa-check"></i>Exercise 15.4.1</a></li>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.4.2"><i class="fa fa-check"></i>Exercise 15.4.2</a></li>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.4.3"><i class="fa fa-check"></i>Exercise 15.4.3</a></li>
</ul>
</li>
<li class="chapter" data-level="15.5" data-path="factors.html">
<a href="factors.html#modifying-factor-levels"><i class="fa fa-check"></i><b>15.5</b> Modifying factor levels</a><ul>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.5.1"><i class="fa fa-check"></i>Exercise 15.5.1</a></li>
<li class="chapter" data-level="" data-path="factors.html"><a href="factors.html#exercise-15.5.2"><i class="fa fa-check"></i>Exercise 15.5.2</a></li>
</ul>
</li>
</ul>
</li>
<li class="chapter" data-level="16" data-path="dates-and-times.html">
<a href="dates-and-times.html"><i class="fa fa-check"></i><b>16</b> Dates and times</a><ul>
<li class="chapter" data-level="16.1" data-path="dates-and-times.html"><a href="dates-and-times.html#introduction-10"><i class="fa fa-check"></i><b>16.1</b> Introduction</a></li>
<li class="chapter" data-level="16.2" data-path="dates-and-times.html">
<a href="dates-and-times.html#creating-datetimes"><i class="fa fa-check"></i><b>16.2</b> Creating date/times</a><ul>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.2.1"><i class="fa fa-check"></i>Exercise 16.2.1</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.2.2"><i class="fa fa-check"></i>Exercise 16.2.2</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.2.3"><i class="fa fa-check"></i>Exercise 16.2.3</a></li>
</ul>
</li>
<li class="chapter" data-level="16.3" data-path="dates-and-times.html">
<a href="dates-and-times.html#date-time-components"><i class="fa fa-check"></i><b>16.3</b> Date-time components</a><ul>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.3.1"><i class="fa fa-check"></i>Exercise 16.3.1</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.3.2"><i class="fa fa-check"></i>Exercise 16.3.2</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.3.3"><i class="fa fa-check"></i>Exercise 16.3.3</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.3.4"><i class="fa fa-check"></i>Exercise 16.3.4</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.3.5"><i class="fa fa-check"></i>Exercise 16.3.5</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.3.6"><i class="fa fa-check"></i>Exercise 16.3.6</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.3.7"><i class="fa fa-check"></i>Exercise 16.3.7</a></li>
</ul>
</li>
<li class="chapter" data-level="16.4" data-path="dates-and-times.html">
<a href="dates-and-times.html#time-spans"><i class="fa fa-check"></i><b>16.4</b> Time spans</a><ul>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.4.1"><i class="fa fa-check"></i>Exercise 16.4.1</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.4.2"><i class="fa fa-check"></i>Exercise 16.4.2</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.4.3"><i class="fa fa-check"></i>Exercise 16.4.3</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.4.4"><i class="fa fa-check"></i>Exercise 16.4.4</a></li>
<li class="chapter" data-level="" data-path="dates-and-times.html"><a href="dates-and-times.html#exercise-16.4.5"><i class="fa fa-check"></i>Exercise 16.4.5</a></li>
</ul>
</li>
<li class="chapter" data-level="16.5" data-path="dates-and-times.html"><a href="dates-and-times.html#time-zones"><i class="fa fa-check"></i><b>16.5</b> Time zones</a></li>
</ul>
</li>
<li class="part"><span><b>III Program</b></span></li>
<li class="chapter" data-level="17" data-path="program-intro.html"><a href="program-intro.html"><i class="fa fa-check"></i><b>17</b> Introduction</a></li>
<li class="chapter" data-level="18" data-path="pipes.html"><a href="pipes.html"><i class="fa fa-check"></i><b>18</b> Pipes</a></li>
<li class="chapter" data-level="19" data-path="functions.html">
<a href="functions.html"><i class="fa fa-check"></i><b>19</b> Functions</a><ul>
<li class="chapter" data-level="19.1" data-path="functions.html"><a href="functions.html#introduction-12"><i class="fa fa-check"></i><b>19.1</b> Introduction</a></li>
<li class="chapter" data-level="19.2" data-path="functions.html">
<a href="functions.html#when-should-you-write-a-function"><i class="fa fa-check"></i><b>19.2</b> When should you write a function?</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.2.1"><i class="fa fa-check"></i>Exercise 19.2.1</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.2.2"><i class="fa fa-check"></i>Exercise 19.2.2</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.2.3"><i class="fa fa-check"></i>Exercise 19.2.3</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.2.4"><i class="fa fa-check"></i>Exercise 19.2.4</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.2.5"><i class="fa fa-check"></i>Exercise 19.2.5</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.2.6"><i class="fa fa-check"></i>Exercise 19.2.6</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.2.7"><i class="fa fa-check"></i>Exercise 19.2.7</a></li>
</ul>
</li>
<li class="chapter" data-level="19.3" data-path="functions.html">
<a href="functions.html#functions-are-for-humans-and-computers"><i class="fa fa-check"></i><b>19.3</b> Functions are for humans and computers</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.3.1"><i class="fa fa-check"></i>Exercise 19.3.1</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.3.2"><i class="fa fa-check"></i>Exercise 19.3.2</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.3.3"><i class="fa fa-check"></i>Exercise 19.3.3</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.3.4"><i class="fa fa-check"></i>Exercise 19.3.4</a></li>
</ul>
</li>
<li class="chapter" data-level="19.4" data-path="functions.html">
<a href="functions.html#conditional-execution"><i class="fa fa-check"></i><b>19.4</b> Conditional execution</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.4.1"><i class="fa fa-check"></i>Exercise 19.4.1</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.4.2"><i class="fa fa-check"></i>Exercise 19.4.2</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.4.3"><i class="fa fa-check"></i>Exercise 19.4.3</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.4.4"><i class="fa fa-check"></i>Exercise 19.4.4</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.4.5"><i class="fa fa-check"></i>Exercise 19.4.5</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.4.6"><i class="fa fa-check"></i>Exercise 19.4.6</a></li>
</ul>
</li>
<li class="chapter" data-level="19.5" data-path="functions.html">
<a href="functions.html#function-arguments"><i class="fa fa-check"></i><b>19.5</b> Function arguments</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.5.1"><i class="fa fa-check"></i>Exercise 19.5.1</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.5.2"><i class="fa fa-check"></i>Exercise 19.5.2</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.5.3"><i class="fa fa-check"></i>Exercise 19.5.3</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#exercise-19.5.4"><i class="fa fa-check"></i>Exercise 19.5.4</a></li>
</ul>
</li>
<li class="chapter" data-level="19.6" data-path="functions.html"><a href="functions.html#return-values"><i class="fa fa-check"></i><b>19.6</b> Return values</a></li>
<li class="chapter" data-level="19.7" data-path="functions.html"><a href="functions.html#environment"><i class="fa fa-check"></i><b>19.7</b> Environment</a></li>
</ul>
</li>
<li class="chapter" data-level="20" data-path="vectors.html">
<a href="vectors.html"><i class="fa fa-check"></i><b>20</b> Vectors</a><ul>
<li class="chapter" data-level="20.1" data-path="vectors.html"><a href="vectors.html#introduction-13"><i class="fa fa-check"></i><b>20.1</b> Introduction</a></li>
<li class="chapter" data-level="20.2" data-path="vectors.html"><a href="vectors.html#vector-basics"><i class="fa fa-check"></i><b>20.2</b> Vector basics</a></li>
<li class="chapter" data-level="20.3" data-path="vectors.html">
<a href="vectors.html#important-types-of-atomic-vector"><i class="fa fa-check"></i><b>20.3</b> Important types of atomic vector</a><ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.3.1"><i class="fa fa-check"></i>Exercise 20.3.1</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.3.2"><i class="fa fa-check"></i>Exercise 20.3.2</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.3.3"><i class="fa fa-check"></i>Exercise 20.3.3</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.3.4"><i class="fa fa-check"></i>Exercise 20.3.4</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.3.5"><i class="fa fa-check"></i>Exercise 20.3.5</a></li>
</ul>
</li>
<li class="chapter" data-level="20.4" data-path="vectors.html">
<a href="vectors.html#using-atomic-vectors"><i class="fa fa-check"></i><b>20.4</b> Using atomic vectors</a><ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.4.1"><i class="fa fa-check"></i>Exercise 20.4.1</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.4.2"><i class="fa fa-check"></i>Exercise 20.4.2</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.4.3"><i class="fa fa-check"></i>Exercise 20.4.3</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.4.4"><i class="fa fa-check"></i>Exercise 20.4.4</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.4.5"><i class="fa fa-check"></i>Exercise 20.4.5</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.4.6"><i class="fa fa-check"></i>Exercise 20.4.6</a></li>
</ul>
</li>
<li class="chapter" data-level="20.5" data-path="vectors.html">
<a href="vectors.html#lists"><i class="fa fa-check"></i><b>20.5</b> Recursive vectors (lists)</a><ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.5.1"><i class="fa fa-check"></i>Exercise 20.5.1</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.5.2"><i class="fa fa-check"></i>Exercise 20.5.2</a></li>
</ul>
</li>
<li class="chapter" data-level="20.6" data-path="vectors.html"><a href="vectors.html#attributes"><i class="fa fa-check"></i><b>20.6</b> Attributes</a></li>
<li class="chapter" data-level="20.7" data-path="vectors.html">
<a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>20.7</b> Augmented vectors</a><ul>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.7.1"><i class="fa fa-check"></i>Exercise 20.7.1</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.7.2"><i class="fa fa-check"></i>Exercise 20.7.2</a></li>
<li class="chapter" data-level="" data-path="vectors.html"><a href="vectors.html#exercise-20.7.3"><i class="fa fa-check"></i>Exercise 20.7.3</a></li>
</ul>
</li>
</ul>
</li>
<li class="chapter" data-level="21" data-path="iteration.html">
<a href="iteration.html"><i class="fa fa-check"></i><b>21</b> Iteration</a><ul>
<li class="chapter" data-level="21.1" data-path="iteration.html"><a href="iteration.html#introduction-14"><i class="fa fa-check"></i><b>21.1</b> Introduction</a></li>
<li class="chapter" data-level="21.2" data-path="iteration.html">
<a href="iteration.html#for-loops"><i class="fa fa-check"></i><b>21.2</b> For loops</a><ul>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.2.1"><i class="fa fa-check"></i>Exercise 21.2.1</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.2.2"><i class="fa fa-check"></i>Exercise 21.2.2</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.2.3"><i class="fa fa-check"></i>Exercise 21.2.3</a></li>
</ul>
</li>
<li class="chapter" data-level="21.3" data-path="iteration.html">
<a href="iteration.html#for-loop-variations"><i class="fa fa-check"></i><b>21.3</b> For loop variations</a><ul>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.3.1"><i class="fa fa-check"></i>Exercise 21.3.1</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.3.2"><i class="fa fa-check"></i>Exercise 21.3.2</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.3.3"><i class="fa fa-check"></i>Exercise 21.3.3</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.3.4"><i class="fa fa-check"></i>Exercise 21.3.4</a></li>
</ul>
</li>
<li class="chapter" data-level="21.4" data-path="iteration.html">
<a href="iteration.html#for-loops-vs.functionals"><i class="fa fa-check"></i><b>21.4</b> For loops vs. functionals</a><ul>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.4.1"><i class="fa fa-check"></i>Exercise 21.4.1</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.4.2"><i class="fa fa-check"></i>Exercise 21.4.2</a></li>
</ul>
</li>
<li class="chapter" data-level="21.5" data-path="iteration.html">
<a href="iteration.html#the-map-functions"><i class="fa fa-check"></i><b>21.5</b> The map functions</a><ul>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.5.1"><i class="fa fa-check"></i>Exercise 21.5.1</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.5.2"><i class="fa fa-check"></i>Exercise 21.5.2</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.5.3"><i class="fa fa-check"></i>Exercise 21.5.3</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.5.4"><i class="fa fa-check"></i>Exercise 21.5.4</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.5.5"><i class="fa fa-check"></i>Exercise 21.5.5</a></li>
</ul>
</li>
<li class="chapter" data-level="21.6" data-path="iteration.html"><a href="iteration.html#dealing-with-failure"><i class="fa fa-check"></i><b>21.6</b> Dealing with failure</a></li>
<li class="chapter" data-level="21.7" data-path="iteration.html"><a href="iteration.html#mapping-over-multiple-arguments"><i class="fa fa-check"></i><b>21.7</b> Mapping over multiple arguments</a></li>
<li class="chapter" data-level="21.8" data-path="iteration.html"><a href="iteration.html#walk"><i class="fa fa-check"></i><b>21.8</b> Walk</a></li>
<li class="chapter" data-level="21.9" data-path="iteration.html">
<a href="iteration.html#other-patterns-of-for-loops"><i class="fa fa-check"></i><b>21.9</b> Other patterns of for loops</a><ul>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.9.1"><i class="fa fa-check"></i>Exercise 21.9.1</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.9.2"><i class="fa fa-check"></i>Exercise 21.9.2</a></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html#exercise-21.9.3"><i class="fa fa-check"></i>Exercise 21.9.3</a></li>
</ul>
</li>
</ul>
</li>
<li class="part"><span><b>IV Model</b></span></li>
<li class="chapter" data-level="22" data-path="model-intro.html"><a href="model-intro.html"><i class="fa fa-check"></i><b>22</b> Introduction</a></li>
<li class="chapter" data-level="23" data-path="model-basics.html">
<a href="model-basics.html"><i class="fa fa-check"></i><b>23</b> Model basics</a><ul>
<li class="chapter" data-level="23.1" data-path="model-basics.html"><a href="model-basics.html#introduction-15"><i class="fa fa-check"></i><b>23.1</b> Introduction</a></li>
<li class="chapter" data-level="23.2" data-path="model-basics.html">
<a href="model-basics.html#a-simple-model"><i class="fa fa-check"></i><b>23.2</b> A simple model</a><ul>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.2.1"><i class="fa fa-check"></i>Exercise 23.2.1</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.2.2"><i class="fa fa-check"></i>Exercise 23.2.2</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.2.3"><i class="fa fa-check"></i>Exercise 23.2.3</a></li>
</ul>
</li>
<li class="chapter" data-level="23.3" data-path="model-basics.html">
<a href="model-basics.html#visualising-models"><i class="fa fa-check"></i><b>23.3</b> Visualising models</a><ul>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.3.1"><i class="fa fa-check"></i>Exercise 23.3.1</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.3.2"><i class="fa fa-check"></i>Exercise 23.3.2</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.3.3"><i class="fa fa-check"></i>Exercise 23.3.3</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.3.4"><i class="fa fa-check"></i>Exercise 23.3.4</a></li>
</ul>
</li>
<li class="chapter" data-level="23.4" data-path="model-basics.html">
<a href="model-basics.html#formulas-and-model-families"><i class="fa fa-check"></i><b>23.4</b> Formulas and model families</a><ul>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.4.1"><i class="fa fa-check"></i>Exercise 23.4.1</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.4.2"><i class="fa fa-check"></i>Exercise 23.4.2</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.4.3"><i class="fa fa-check"></i>Exercise 23.4.3</a></li>
<li class="chapter" data-level="" data-path="model-basics.html"><a href="model-basics.html#exercise-23.4.4"><i class="fa fa-check"></i>Exercise 23.4.4</a></li>
</ul>
</li>
<li class="chapter" data-level="23.5" data-path="model-basics.html"><a href="model-basics.html#missing-values-5"><i class="fa fa-check"></i><b>23.5</b> Missing values</a></li>
<li class="chapter" data-level="23.6" data-path="model-basics.html"><a href="model-basics.html#other-model-families"><i class="fa fa-check"></i><b>23.6</b> Other model families</a></li>
</ul>
</li>
<li class="chapter" data-level="24" data-path="model-building.html">
<a href="model-building.html"><i class="fa fa-check"></i><b>24</b> Model building</a><ul>
<li class="chapter" data-level="24.1" data-path="model-building.html"><a href="model-building.html#introduction-16"><i class="fa fa-check"></i><b>24.1</b> Introduction</a></li>
<li class="chapter" data-level="24.2" data-path="model-building.html">
<a href="model-building.html#diamond-prices"><i class="fa fa-check"></i><b>24.2</b> Why are low quality diamonds more expensive?</a><ul>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.2.1"><i class="fa fa-check"></i>Exercise 24.2.1</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.2.2"><i class="fa fa-check"></i>Exercise 24.2.2</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.2.3"><i class="fa fa-check"></i>Exercise 24.2.3</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.2.4"><i class="fa fa-check"></i>Exercise 24.2.4</a></li>
</ul>
</li>
<li class="chapter" data-level="24.3" data-path="model-building.html">
<a href="model-building.html#what-affects-the-number-of-daily-flights"><i class="fa fa-check"></i><b>24.3</b> What affects the number of daily flights?</a><ul>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.1"><i class="fa fa-check"></i>Exercise 24.3.1</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.2"><i class="fa fa-check"></i>Exercise 24.3.2</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.3"><i class="fa fa-check"></i>Exercise 24.3.3</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.4"><i class="fa fa-check"></i>Exercise 24.3.4</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.5"><i class="fa fa-check"></i>Exercise 24.3.5</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.6"><i class="fa fa-check"></i>Exercise 24.3.6</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.7"><i class="fa fa-check"></i>Exercise 24.3.7</a></li>
<li class="chapter" data-level="" data-path="model-building.html"><a href="model-building.html#exercise-24.3.8"><i class="fa fa-check"></i>Exercise 24.3.8</a></li>
</ul>
</li>
<li class="chapter" data-level="24.4" data-path="model-building.html"><a href="model-building.html#learning-more-about-models"><i class="fa fa-check"></i><b>24.4</b> Learning more about models</a></li>
</ul>
</li>
<li class="chapter" data-level="25" data-path="many-models.html">
<a href="many-models.html"><i class="fa fa-check"></i><b>25</b> Many models</a><ul>
<li class="chapter" data-level="25.1" data-path="many-models.html"><a href="many-models.html#introduction-17"><i class="fa fa-check"></i><b>25.1</b> Introduction</a></li>
<li class="chapter" data-level="25.2" data-path="many-models.html">
<a href="many-models.html#gapminder"><i class="fa fa-check"></i><b>25.2</b> gapminder</a><ul>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.2.1"><i class="fa fa-check"></i>Exercise 25.2.1</a></li>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.2.2"><i class="fa fa-check"></i>Exercise 25.2.2</a></li>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.2.3"><i class="fa fa-check"></i>Exercise 25.2.3</a></li>
</ul>
</li>
<li class="chapter" data-level="25.3" data-path="many-models.html"><a href="many-models.html#list-columns-1"><i class="fa fa-check"></i><b>25.3</b> List-columns</a></li>
<li class="chapter" data-level="25.4" data-path="many-models.html">
<a href="many-models.html#creating-list-columns"><i class="fa fa-check"></i><b>25.4</b> Creating list-columns</a><ul>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.4.1"><i class="fa fa-check"></i>Exercise 25.4.1</a></li>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.4.2"><i class="fa fa-check"></i>Exercise 25.4.2</a></li>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.4.3"><i class="fa fa-check"></i>Exercise 25.4.3</a></li>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.4.4"><i class="fa fa-check"></i>Exercise 25.4.4</a></li>
</ul>
</li>
<li class="chapter" data-level="25.5" data-path="many-models.html">
<a href="many-models.html#simplifying-list-columns"><i class="fa fa-check"></i><b>25.5</b> Simplifying list-columns</a><ul>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.5.1"><i class="fa fa-check"></i>Exercise 25.5.1</a></li>
<li class="chapter" data-level="" data-path="many-models.html"><a href="many-models.html#exercise-25.5.2"><i class="fa fa-check"></i>Exercise 25.5.2</a></li>
</ul>
</li>
<li class="chapter" data-level="25.6" data-path="many-models.html"><a href="many-models.html#making-tidy-data-with-broom"><i class="fa fa-check"></i><b>25.6</b> Making tidy data with broom</a></li>
</ul>
</li>
<li class="part"><span><b>V Communicate</b></span></li>
<li class="chapter" data-level="26" data-path="communicate-intro.html"><a href="communicate-intro.html"><i class="fa fa-check"></i><b>26</b> Introduction</a></li>
<li class="chapter" data-level="27" data-path="r-markdown.html">
<a href="r-markdown.html"><i class="fa fa-check"></i><b>27</b> R Markdown</a><ul>
<li class="chapter" data-level="27.1" data-path="r-markdown.html"><a href="r-markdown.html#introduction-18"><i class="fa fa-check"></i><b>27.1</b> Introduction</a></li>
<li class="chapter" data-level="27.2" data-path="r-markdown.html">
<a href="r-markdown.html#r-markdown-basics"><i class="fa fa-check"></i><b>27.2</b> R Markdown basics</a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.2.1"><i class="fa fa-check"></i>Exercise 27.2.1</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.2.2"><i class="fa fa-check"></i>Exercise 27.2.2</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.2.3"><i class="fa fa-check"></i>Exercise 27.2.3</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.2.4"><i class="fa fa-check"></i>Exercise 27.2.4</a></li>
</ul>
</li>
<li class="chapter" data-level="27.3" data-path="r-markdown.html">
<a href="r-markdown.html#text-formatting-with-markdown"><i class="fa fa-check"></i><b>27.3</b> Text formatting with Markdown</a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.3.1"><i class="fa fa-check"></i>Exercise 27.3.1</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.3.2"><i class="fa fa-check"></i>Exercise 27.3.2</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.3.3"><i class="fa fa-check"></i>Exercise 27.3.3</a></li>
</ul>
</li>
<li class="chapter" data-level="27.4" data-path="r-markdown.html">
<a href="r-markdown.html#code-chunks"><i class="fa fa-check"></i><b>27.4</b> Code chunks</a><ul>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.4.1"><i class="fa fa-check"></i>Exercise 27.4.1</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.4.2"><i class="fa fa-check"></i>Exercise 27.4.2</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.4.3"><i class="fa fa-check"></i>Exercise 27.4.3</a></li>
<li class="chapter" data-level="" data-path="r-markdown.html"><a href="r-markdown.html#exercise-27.4.4"><i class="fa fa-check"></i>Exercise 27.4.4</a></li>
</ul>
</li>
<li class="chapter" data-level="27.5" data-path="r-markdown.html"><a href="r-markdown.html#troubleshooting"><i class="fa fa-check"></i><b>27.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="27.6" data-path="r-markdown.html"><a href="r-markdown.html#yaml-header"><i class="fa fa-check"></i><b>27.6</b> YAML header</a></li>
<li class="chapter" data-level="27.7" data-path="r-markdown.html"><a href="r-markdown.html#learning-more-3"><i class="fa fa-check"></i><b>27.7</b> Learning more</a></li>
</ul>
</li>
<li class="chapter" data-level="28" data-path="graphics-for-communication.html">
<a href="graphics-for-communication.html"><i class="fa fa-check"></i><b>28</b> Graphics for communication</a><ul>
<li class="chapter" data-level="28.1" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#introduction-19"><i class="fa fa-check"></i><b>28.1</b> Introduction</a></li>
<li class="chapter" data-level="28.2" data-path="graphics-for-communication.html">
<a href="graphics-for-communication.html#label"><i class="fa fa-check"></i><b>28.2</b> Label</a><ul>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.2.1"><i class="fa fa-check"></i>Exercise 28.2.1</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.2.2"><i class="fa fa-check"></i>Exercise 28.2.2</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.2.3"><i class="fa fa-check"></i>Exercise 28.2.3</a></li>
</ul>
</li>
<li class="chapter" data-level="28.3" data-path="graphics-for-communication.html">
<a href="graphics-for-communication.html#annotations"><i class="fa fa-check"></i><b>28.3</b> Annotations</a><ul>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.3.1"><i class="fa fa-check"></i>Exercise 28.3.1</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.3.2"><i class="fa fa-check"></i>Exercise 28.3.2</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.3.3"><i class="fa fa-check"></i>Exercise 28.3.3</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.3.4"><i class="fa fa-check"></i>Exercise 28.3.4</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.3.5"><i class="fa fa-check"></i>Exercise 28.3.5</a></li>
</ul>
</li>
<li class="chapter" data-level="28.4" data-path="graphics-for-communication.html">
<a href="graphics-for-communication.html#scales"><i class="fa fa-check"></i><b>28.4</b> Scales</a><ul>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.4.1"><i class="fa fa-check"></i>Exercise 28.4.1</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.4.2"><i class="fa fa-check"></i>Exercise 28.4.2</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.4.3"><i class="fa fa-check"></i>Exercise 28.4.3</a></li>
<li class="chapter" data-level="" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#exercise-28.4.4"><i class="fa fa-check"></i>Exercise 28.4.4</a></li>
</ul>
</li>
<li class="chapter" data-level="28.5" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#zooming"><i class="fa fa-check"></i><b>28.5</b> Zooming</a></li>
<li class="chapter" data-level="28.6" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#themes"><i class="fa fa-check"></i><b>28.6</b> Themes</a></li>
<li class="chapter" data-level="28.7" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#saving-your-plots"><i class="fa fa-check"></i><b>28.7</b> Saving your plots</a></li>
<li class="chapter" data-level="28.8" data-path="graphics-for-communication.html"><a href="graphics-for-communication.html#learning-more-4"><i class="fa fa-check"></i><b>28.8</b> Learning more</a></li>
</ul>
</li>
<li class="chapter" data-level="29" data-path="r-markdown-formats.html"><a href="r-markdown-formats.html"><i class="fa fa-check"></i><b>29</b> R Markdown formats</a></li>
<li class="chapter" data-level="30" data-path="r-markdown-workflow.html"><a href="r-markdown-workflow.html"><i class="fa fa-check"></i><b>30</b> R Markdown workflow</a></li>
<li class="part"><span><b>VI Appendixes</b></span></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider">
<li><a href="https://github.com/rstudio/bookdown">Proudly published with bookdown</a></li>

</ul></nav>
</div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science: Exercise Solutions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-"><div class="alert alert-info hints-alert">
  <div class="hints-icon">
    <i class="fa fa-comments-o"></i>
  </div>
  <div class="hints-container">
    <b>I need your help!</b>
    <p>
    If you find any typos, errors, or places where the text may be improved, please let me know.
    The best ways to provide feedback are by GitHub or hypothes.is annotations.
    </p>

    <p>
      <i class="fa fa-github"></i>
      Opening an <a href="https://github.com/jrnold/r4ds-exercise-solutions/issues">issue</a> or submitting a <a href="https://github.com/jrnold/r4ds-exercise-solutions/pulls">pull request</a> on <a href="https://github.com/jrnold/r4ds-exercise-solutions">GitHub</a>
    </p>
    <p>
      <i class="h-icon-hypothesis-logo"></i>
      Adding an annotation using <a href="https://hypothes.is">hypothes.is</a>.
      To add an annotation, <span style="background-color: #3297FD; color: white">select some text</span> and then click the
      <i class="h-icon-annotate"></i> on the pop-up menu.
      To see the annotations of others, click the
      <i class="h-icon-chevron-left"></i>
      in the upper right-hand corner of the page.
    </p>
  </div>
</div>
<div id="strings" class="section level1 r4ds-section">
<h1>
<a href="#strings" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14</span> Strings<a href="https://r4ds.had.co.nz/strings.html#strings" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h1>
<div id="introduction-8" class="section level2 r4ds-section">
<h2>
<a href="#introduction-8" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.1</span> Introduction<a href="https://r4ds.had.co.nz/strings.html#introduction-8" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h2>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb422-1" data-line-number="1"><span class="kw">library</span>(<span class="st">"tidyverse"</span>)</a></code></pre></div>
</div>
<div id="string-basics" class="section level2 r4ds-section">
<h2>
<a href="#string-basics" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.2</span> String basics<a href="https://r4ds.had.co.nz/strings.html#string-basics" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h2>
<div id="exercise-14.2.1" class="section level3 unnumbered exercise" data-number="14.2.1">
<h3>Exercise 14.2.1<a href="#exercise-14.2.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>In code that doesn’t use stringr, you’ll often see <code>paste()</code> and <code>paste0()</code>.
What’s the difference between the two functions? What stringr function are they equivalent to?
How do the functions differ in their handling of <code>NA</code>?</p>
</div>
<div class="answer">
<p>The function <code>paste()</code> separates strings by spaces by default, while <code>paste0()</code> does not separate strings with spaces by default.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb423-1" data-line-number="1"><span class="kw">paste</span>(<span class="st">"foo"</span>, <span class="st">"bar"</span>)</a>
<a class="sourceLine" id="cb423-2" data-line-number="2"><span class="co">#&gt; [1] "foo bar"</span></a>
<a class="sourceLine" id="cb423-3" data-line-number="3"><span class="kw">paste0</span>(<span class="st">"foo"</span>, <span class="st">"bar"</span>)</a>
<a class="sourceLine" id="cb423-4" data-line-number="4"><span class="co">#&gt; [1] "foobar"</span></a></code></pre></div>
<p>Since <code>str_c()</code> does not separate strings with spaces by default it is closer in behavior to <code>paste0()</code>.</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb424-1" data-line-number="1"><span class="kw">str_c</span>(<span class="st">"foo"</span>, <span class="st">"bar"</span>)</a>
<a class="sourceLine" id="cb424-2" data-line-number="2"><span class="co">#&gt; [1] "foobar"</span></a></code></pre></div>
<p>However, <code>str_c()</code> and the paste function handle NA differently.
The function <code>str_c()</code> propagates <code>NA</code>, if any argument is a missing value, it returns a missing value.
This is in line with how the numeric R functions, e.g. <code>sum()</code>, <code>mean()</code>, handle missing values.
However, the paste functions, convert <code>NA</code> to the string <code>"NA"</code> and then treat it as any other character vector.</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb425-1" data-line-number="1"><span class="kw">str_c</span>(<span class="st">"foo"</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb425-2" data-line-number="2"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb425-3" data-line-number="3"><span class="kw">paste</span>(<span class="st">"foo"</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb425-4" data-line-number="4"><span class="co">#&gt; [1] "foo NA"</span></a>
<a class="sourceLine" id="cb425-5" data-line-number="5"><span class="kw">paste0</span>(<span class="st">"foo"</span>, <span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb425-6" data-line-number="6"><span class="co">#&gt; [1] "fooNA"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.2.2" class="section level3 unnumbered exercise" data-number="14.2.2">
<h3>Exercise 14.2.2<a href="#exercise-14.2.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>In your own words, describe the difference between the <code>sep</code> and <code>collapse</code> arguments to <code>str_c()</code>.</p>
</div>
<div class="answer">
<p>The <code>sep</code> argument is the string inserted between arguments to <code>str_c()</code>, while <code>collapse</code> is the string used to separate any elements of the character vector into a character vector of length one.</p>
</div>
</div>
<div id="exercise-14.2.3" class="section level3 unnumbered exercise" data-number="14.2.3">
<h3>Exercise 14.2.3<a href="#exercise-14.2.3" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>Use <code>str_length()</code> and <code>str_sub()</code> to extract the middle character from a string. What will you do if the string has an even number of characters?</p>
</div>
<div class="answer">
<p>The following function extracts the middle character. If the string has an even number of characters the choice is arbitrary.
We choose to select <span class="math inline">\(\lceil n / 2 \rceil\)</span>, because that case works even if the string is only of length one.
A more general method would allow the user to select either the floor or ceiling for the middle character of an even string.</p>
<div class="sourceCode" id="cb426"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb426-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"abc"</span>, <span class="st">"abcd"</span>, <span class="st">"abcde"</span>, <span class="st">"abcdef"</span>)</a>
<a class="sourceLine" id="cb426-2" data-line-number="2">L &lt;-<span class="st"> </span><span class="kw">str_length</span>(x)</a>
<a class="sourceLine" id="cb426-3" data-line-number="3">m &lt;-<span class="st"> </span><span class="kw">ceiling</span>(L <span class="op">/</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb426-4" data-line-number="4"><span class="kw">str_sub</span>(x, m, m)</a>
<a class="sourceLine" id="cb426-5" data-line-number="5"><span class="co">#&gt; [1] "a" "b" "b" "c" "c"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.2.4" class="section level3 unnumbered exercise" data-number="14.2.4">
<h3>Exercise 14.2.4<a href="#exercise-14.2.4" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>What does <code>str_wrap()</code> do? When might you want to use it?</p>
</div>
<div class="answer">
<p>The function <code>str_wrap()</code> wraps text so that it fits within a certain width.
This is useful for wrapping long strings of text to be typeset.</p>
</div>
</div>
<div id="exercise-14.2.5" class="section level3 unnumbered exercise" data-number="14.2.5">
<h3>Exercise 14.2.5<a href="#exercise-14.2.5" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>What does <code>str_trim()</code> do? What’s the opposite of <code>str_trim()</code>?</p>
</div>
<div class="answer">
<p>The function <code>str_trim()</code> trims the whitespace from a string.</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb427-1" data-line-number="1"><span class="kw">str_trim</span>(<span class="st">" abc "</span>)</a>
<a class="sourceLine" id="cb427-2" data-line-number="2"><span class="co">#&gt; [1] "abc"</span></a>
<a class="sourceLine" id="cb427-3" data-line-number="3"><span class="kw">str_trim</span>(<span class="st">" abc "</span>, <span class="dt">side =</span> <span class="st">"left"</span>)</a>
<a class="sourceLine" id="cb427-4" data-line-number="4"><span class="co">#&gt; [1] "abc "</span></a>
<a class="sourceLine" id="cb427-5" data-line-number="5"><span class="kw">str_trim</span>(<span class="st">" abc "</span>, <span class="dt">side =</span> <span class="st">"right"</span>)</a>
<a class="sourceLine" id="cb427-6" data-line-number="6"><span class="co">#&gt; [1] " abc"</span></a></code></pre></div>
<p>The opposite of <code>str_trim()</code> is <code>str_pad()</code> which adds characters to each side.</p>
<div class="sourceCode" id="cb428"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb428-1" data-line-number="1"><span class="kw">str_pad</span>(<span class="st">"abc"</span>, <span class="dv">5</span>, <span class="dt">side =</span> <span class="st">"both"</span>)</a>
<a class="sourceLine" id="cb428-2" data-line-number="2"><span class="co">#&gt; [1] " abc "</span></a>
<a class="sourceLine" id="cb428-3" data-line-number="3"><span class="kw">str_pad</span>(<span class="st">"abc"</span>, <span class="dv">4</span>, <span class="dt">side =</span> <span class="st">"right"</span>)</a>
<a class="sourceLine" id="cb428-4" data-line-number="4"><span class="co">#&gt; [1] "abc "</span></a>
<a class="sourceLine" id="cb428-5" data-line-number="5"><span class="kw">str_pad</span>(<span class="st">"abc"</span>, <span class="dv">4</span>, <span class="dt">side =</span> <span class="st">"left"</span>)</a>
<a class="sourceLine" id="cb428-6" data-line-number="6"><span class="co">#&gt; [1] " abc"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.2.6" class="section level3 unnumbered exercise" data-number="14.2.6">
<h3>Exercise 14.2.6<a href="#exercise-14.2.6" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>Write a function that turns (e.g.) a vector <code>c("a", "b", "c")</code> into the string <code>"a, b, and c"</code>. Think carefully about what it should do if given a vector of length 0, 1, or 2.</p>
</div>
<div class="answer">
<p>See the Chapter [Functions] for more details on writing R functions.</p>
<p>This function needs to handle four cases.</p>
<ol style="list-style-type: decimal">
<li>
<code>n == 0</code>: an empty string, e.g. <code>""</code>.</li>
<li>
<code>n == 1</code>: the original vector, e.g. <code>"a"</code>.</li>
<li>
<code>n == 2</code>: return the two elements separated by “and”, e.g. <code>"a and b"</code>.</li>
<li>
<code>n &gt; 2</code>: return the first <code>n - 1</code> elements separated by commas, and the last element separated by a comma and “and”, e.g. <code>"a, b, and c"</code>.</li>
</ol>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb429-1" data-line-number="1">str_commasep &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">delim =</span> <span class="st">","</span>) {</a>
<a class="sourceLine" id="cb429-2" data-line-number="2">  n &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb429-3" data-line-number="3">  <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb429-4" data-line-number="4">    <span class="st">""</span></a>
<a class="sourceLine" id="cb429-5" data-line-number="5">  } <span class="cf">else</span> <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb429-6" data-line-number="6">    x</a>
<a class="sourceLine" id="cb429-7" data-line-number="7">  } <span class="cf">else</span> <span class="cf">if</span> (n <span class="op">==</span><span class="st"> </span><span class="dv">2</span>) {</a>
<a class="sourceLine" id="cb429-8" data-line-number="8">    <span class="co"># no comma before and when n == 2</span></a>
<a class="sourceLine" id="cb429-9" data-line-number="9">    <span class="kw">str_c</span>(x[[<span class="dv">1</span>]], <span class="st">"and"</span>, x[[<span class="dv">2</span>]], <span class="dt">sep =</span> <span class="st">" "</span>)</a>
<a class="sourceLine" id="cb429-10" data-line-number="10">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb429-11" data-line-number="11">    <span class="co"># commas after all n - 1 elements</span></a>
<a class="sourceLine" id="cb429-12" data-line-number="12">    not_last &lt;-<span class="st"> </span><span class="kw">str_c</span>(x[<span class="kw">seq_len</span>(n <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)], delim)</a>
<a class="sourceLine" id="cb429-13" data-line-number="13">    <span class="co"># prepend "and" to the last element</span></a>
<a class="sourceLine" id="cb429-14" data-line-number="14">    last &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">"and"</span>, x[[n]], <span class="dt">sep =</span> <span class="st">" "</span>)</a>
<a class="sourceLine" id="cb429-15" data-line-number="15">    <span class="co"># combine parts with spaces</span></a>
<a class="sourceLine" id="cb429-16" data-line-number="16">    <span class="kw">str_c</span>(<span class="kw">c</span>(not_last, last), <span class="dt">collapse =</span> <span class="st">" "</span>)</a>
<a class="sourceLine" id="cb429-17" data-line-number="17">  }</a>
<a class="sourceLine" id="cb429-18" data-line-number="18">}</a>
<a class="sourceLine" id="cb429-19" data-line-number="19"><span class="kw">str_commasep</span>(<span class="st">""</span>)</a>
<a class="sourceLine" id="cb429-20" data-line-number="20"><span class="co">#&gt; [1] ""</span></a>
<a class="sourceLine" id="cb429-21" data-line-number="21"><span class="kw">str_commasep</span>(<span class="st">"a"</span>)</a>
<a class="sourceLine" id="cb429-22" data-line-number="22"><span class="co">#&gt; [1] "a"</span></a>
<a class="sourceLine" id="cb429-23" data-line-number="23"><span class="kw">str_commasep</span>(<span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>))</a>
<a class="sourceLine" id="cb429-24" data-line-number="24"><span class="co">#&gt; [1] "a and b"</span></a>
<a class="sourceLine" id="cb429-25" data-line-number="25"><span class="kw">str_commasep</span>(<span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>))</a>
<a class="sourceLine" id="cb429-26" data-line-number="26"><span class="co">#&gt; [1] "a, b, and c"</span></a>
<a class="sourceLine" id="cb429-27" data-line-number="27"><span class="kw">str_commasep</span>(<span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>))</a>
<a class="sourceLine" id="cb429-28" data-line-number="28"><span class="co">#&gt; [1] "a, b, c, and d"</span></a></code></pre></div>
</div>
</div>
</div>
<div id="matching-patterns-with-regular-expressions" class="section level2 r4ds-section">
<h2>
<a href="#matching-patterns-with-regular-expressions" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.3</span> Matching patterns with regular expressions<a href="https://r4ds.had.co.nz/strings.html#matching-patterns-with-regular-expressions" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h2>
<div id="basic-matches" class="section level3 r4ds-section">
<h3>
<a href="#basic-matches" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.3.1</span> Basic matches<a href="https://r4ds.had.co.nz/strings.html#basic-matches" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.3.1.1" class="section level4 unnumbered exercise" data-number="14.3.1.1">
<h4>Exercise 14.3.1.1<a href="#exercise-14.3.1.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Explain why each of these strings don’t match a <code>\</code>: <code>"\"</code>, <code>"\\"</code>, <code>"\\\"</code>.</p>
</div>
<div class="answer">
<ul>
<li>
<code>"\"</code>: This will escape the next character in the R string.</li>
<li>
<code>"\\"</code>: This will resolve to <code>\</code> in the regular expression, which will escape the next character in the regular expression.</li>
<li>
<code>"\\\"</code>: The first two backslashes will resolve to a literal backslash in the regular expression, the third will escape the next character. So in the regular expression, this will escape some escaped character.</li>
</ul>
</div>
</div>
<div id="exercise-14.3.1.2" class="section level4 unnumbered exercise" data-number="14.3.1.2">
<h4>Exercise 14.3.1.2<a href="#exercise-14.3.1.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>How would you match the sequence <code>"'\</code> ?</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb430"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb430-1" data-line-number="1"><span class="kw">str_view</span>(<span class="st">"</span><span class="ch">\"</span><span class="st">'</span><span class="ch">\\</span><span class="st">"</span>, <span class="st">"</span><span class="ch">\"</span><span class="st">'</span><span class="ch">\\\\</span><span class="st">"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"html":"<ul>\n  <li><span class='match'>\"'\\<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="exercise-14.3.1.3" class="section level4 unnumbered exercise" data-number="14.3.1.3">
<h4>Exercise 14.3.1.3<a href="#exercise-14.3.1.3" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>What patterns will the regular expression <code>\..\..\..</code> match? How would you represent it as a string?</p>
</div>
<div class="answer">
<p>It will match any patterns that are a dot followed by any character, repeated three times.</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb431-1" data-line-number="1"><span class="kw">str_view</span>(<span class="kw">c</span>(<span class="st">".a.b.c"</span>, <span class="st">".a.b"</span>, <span class="st">"....."</span>), <span class="kw">c</span>(<span class="st">"</span><span class="ch">\\</span><span class="st">..</span><span class="ch">\\</span><span class="st">..</span><span class="ch">\\</span><span class="st">.."</span>), <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-e5c8c404fe174e4c81bd" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5c8c404fe174e4c81bd">{"x":{"html":"<ul>\n  <li><span class='match'>.a.b.c<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="anchors" class="section level3 r4ds-section">
<h3>
<a href="#anchors" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.3.2</span> Anchors<a href="https://r4ds.had.co.nz/strings.html#anchors" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.3.2.1" class="section level4 unnumbered exercise" data-number="14.3.2.1">
<h4>Exercise 14.3.2.1<a href="#exercise-14.3.2.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>How would you match the literal string <code>"$^$"</code>?</p>
</div>
<div class="answer">
<p>To check that the pattern works, I’ll include both the string <code>"$^$"</code>, and an example where that pattern occurs in the middle of the string which should not be matched.</p>
<div class="sourceCode" id="cb432"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb432-1" data-line-number="1"><span class="kw">str_view</span>(<span class="kw">c</span>(<span class="st">"$^$"</span>, <span class="st">"ab$^$sfas"</span>), <span class="st">"^</span><span class="ch">\\</span><span class="st">$</span><span class="ch">\\</span><span class="st">^</span><span class="ch">\\</span><span class="st">$$"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-36aa3d2a04d42bbc2145" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-36aa3d2a04d42bbc2145">{"x":{"html":"<ul>\n  <li><span class='match'>$^$<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="exercise-14.3.2.2" class="section level4 unnumbered exercise" data-number="14.3.2.2">
<h4>Exercise 14.3.2.2<a href="#exercise-14.3.2.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Given the corpus of common words in <code>stringr::words</code>, create regular expressions that find all words that:</p>
<ol style="list-style-type: decimal">
<li>Start with “y”.</li>
<li>End with “x”</li>
<li>Are exactly three letters long. (Don’t cheat by using <code>str_length()</code>!)</li>
<li>Have seven letters or more.</li>
</ol>
<p>Since this list is long, you might want to use the <code>match</code> argument to <code>str_view()</code> to show only the matching or non-matching words.</p>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li>
<p>The words that start with “y” are:</p>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb433-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">"^y"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-febe03efa1a2d8d52a86" style="width:960px;height:100%;" class="str_view html-widget"></div>
    <script type="application/json" data-for="htmlwidget-febe03efa1a2d8d52a86">{"x":{"html":"<ul>\n  <li><span class='match'>y<\/span>ear<\/li>\n  <li><span class='match'>y<\/span>es<\/li>\n  <li><span class='match'>y<\/span>esterday<\/li>\n  <li><span class='match'>y<\/span>et<\/li>\n  <li><span class='match'>y<\/span>ou<\/li>\n  <li><span class='match'>y<\/span>oung<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</li>
<li>
<p>End with “x”</p>
<div class="sourceCode" id="cb434"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb434-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">"x$"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-1fb4450895fe099f74a1" style="width:960px;height:100%;" class="str_view html-widget"></div>
    <script type="application/json" data-for="htmlwidget-1fb4450895fe099f74a1">{"x":{"html":"<ul>\n  <li>bo<span class='match'>x<\/span><\/li>\n  <li>se<span class='match'>x<\/span><\/li>\n  <li>si<span class='match'>x<\/span><\/li>\n  <li>ta<span class='match'>x<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</li>
<li>
<p>Are exactly three letters long are</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb435-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">"^...$"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-10b3b7155e8045a1b2ad" style="width:960px;height:100%;" class="str_view html-widget"></div>
    <script type="application/json" data-for="htmlwidget-10b3b7155e8045a1b2ad">{"x":{"html":"<ul>\n  <li><span class='match'>act<\/span><\/li>\n  <li><span class='match'>add<\/span><\/li>\n  <li><span class='match'>age<\/span><\/li>\n  <li><span class='match'>ago<\/span><\/li>\n  <li><span class='match'>air<\/span><\/li>\n  <li><span class='match'>all<\/span><\/li>\n  <li><span class='match'>and<\/span><\/li>\n  <li><span class='match'>any<\/span><\/li>\n  <li><span class='match'>arm<\/span><\/li>\n  <li><span class='match'>art<\/span><\/li>\n  <li><span class='match'>ask<\/span><\/li>\n  <li><span class='match'>bad<\/span><\/li>\n  <li><span class='match'>bag<\/span><\/li>\n  <li><span class='match'>bar<\/span><\/li>\n  <li><span class='match'>bed<\/span><\/li>\n  <li><span class='match'>bet<\/span><\/li>\n  <li><span class='match'>big<\/span><\/li>\n  <li><span class='match'>bit<\/span><\/li>\n  <li><span class='match'>box<\/span><\/li>\n  <li><span class='match'>boy<\/span><\/li>\n  <li><span class='match'>bus<\/span><\/li>\n  <li><span class='match'>but<\/span><\/li>\n  <li><span class='match'>buy<\/span><\/li>\n  <li><span class='match'>can<\/span><\/li>\n  <li><span class='match'>car<\/span><\/li>\n  <li><span class='match'>cat<\/span><\/li>\n  <li><span class='match'>cup<\/span><\/li>\n  <li><span class='match'>cut<\/span><\/li>\n  <li><span class='match'>dad<\/span><\/li>\n  <li><span class='match'>day<\/span><\/li>\n  <li><span class='match'>die<\/span><\/li>\n  <li><span class='match'>dog<\/span><\/li>\n  <li><span class='match'>dry<\/span><\/li>\n  <li><span class='match'>due<\/span><\/li>\n  <li><span class='match'>eat<\/span><\/li>\n  <li><span class='match'>egg<\/span><\/li>\n  <li><span class='match'>end<\/span><\/li>\n  <li><span class='match'>eye<\/span><\/li>\n  <li><span class='match'>far<\/span><\/li>\n  <li><span class='match'>few<\/span><\/li>\n  <li><span class='match'>fit<\/span><\/li>\n  <li><span class='match'>fly<\/span><\/li>\n  <li><span class='match'>for<\/span><\/li>\n  <li><span class='match'>fun<\/span><\/li>\n  <li><span class='match'>gas<\/span><\/li>\n  <li><span class='match'>get<\/span><\/li>\n  <li><span class='match'>god<\/span><\/li>\n  <li><span class='match'>guy<\/span><\/li>\n  <li><span class='match'>hit<\/span><\/li>\n  <li><span class='match'>hot<\/span><\/li>\n  <li><span class='match'>how<\/span><\/li>\n  <li><span class='match'>job<\/span><\/li>\n  <li><span class='match'>key<\/span><\/li>\n  <li><span class='match'>kid<\/span><\/li>\n  <li><span class='match'>lad<\/span><\/li>\n  <li><span class='match'>law<\/span><\/li>\n  <li><span class='match'>lay<\/span><\/li>\n  <li><span class='match'>leg<\/span><\/li>\n  <li><span class='match'>let<\/span><\/li>\n  <li><span class='match'>lie<\/span><\/li>\n  <li><span class='match'>lot<\/span><\/li>\n  <li><span class='match'>low<\/span><\/li>\n  <li><span class='match'>man<\/span><\/li>\n  <li><span class='match'>may<\/span><\/li>\n  <li><span class='match'>mrs<\/span><\/li>\n  <li><span class='match'>new<\/span><\/li>\n  <li><span class='match'>non<\/span><\/li>\n  <li><span class='match'>not<\/span><\/li>\n  <li><span class='match'>now<\/span><\/li>\n  <li><span class='match'>odd<\/span><\/li>\n  <li><span class='match'>off<\/span><\/li>\n  <li><span class='match'>old<\/span><\/li>\n  <li><span class='match'>one<\/span><\/li>\n  <li><span class='match'>out<\/span><\/li>\n  <li><span class='match'>own<\/span><\/li>\n  <li><span class='match'>pay<\/span><\/li>\n  <li><span class='match'>per<\/span><\/li>\n  <li><span class='match'>put<\/span><\/li>\n  <li><span class='match'>red<\/span><\/li>\n  <li><span class='match'>rid<\/span><\/li>\n  <li><span class='match'>run<\/span><\/li>\n  <li><span class='match'>say<\/span><\/li>\n  <li><span class='match'>see<\/span><\/li>\n  <li><span class='match'>set<\/span><\/li>\n  <li><span class='match'>sex<\/span><\/li>\n  <li><span class='match'>she<\/span><\/li>\n  <li><span class='match'>sir<\/span><\/li>\n  <li><span class='match'>sit<\/span><\/li>\n  <li><span class='match'>six<\/span><\/li>\n  <li><span class='match'>son<\/span><\/li>\n  <li><span class='match'>sun<\/span><\/li>\n  <li><span class='match'>tax<\/span><\/li>\n  <li><span class='match'>tea<\/span><\/li>\n  <li><span class='match'>ten<\/span><\/li>\n  <li><span class='match'>the<\/span><\/li>\n  <li><span class='match'>tie<\/span><\/li>\n  <li><span class='match'>too<\/span><\/li>\n  <li><span class='match'>top<\/span><\/li>\n  <li><span class='match'>try<\/span><\/li>\n  <li><span class='match'>two<\/span><\/li>\n  <li><span class='match'>use<\/span><\/li>\n  <li><span class='match'>war<\/span><\/li>\n  <li><span class='match'>way<\/span><\/li>\n  <li><span class='match'>wee<\/span><\/li>\n  <li><span class='match'>who<\/span><\/li>\n  <li><span class='match'>why<\/span><\/li>\n  <li><span class='match'>win<\/span><\/li>\n  <li><span class='match'>yes<\/span><\/li>\n  <li><span class='match'>yet<\/span><\/li>\n  <li><span class='match'>you<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</li>
<li>
<p>The words that have seven letters or more are</p>
<div class="sourceCode" id="cb436"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb436-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">"......."</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-4018eef1a407a0df6b52" style="width:960px;height:100%;" class="str_view html-widget"></div>
    <script type="application/json" data-for="htmlwidget-4018eef1a407a0df6b52">{"x":{"html":"<ul>\n  <li><span class='match'>absolut<\/span>e<\/li>\n  <li><span class='match'>account<\/span><\/li>\n  <li><span class='match'>achieve<\/span><\/li>\n  <li><span class='match'>address<\/span><\/li>\n  <li><span class='match'>adverti<\/span>se<\/li>\n  <li><span class='match'>afterno<\/span>on<\/li>\n  <li><span class='match'>against<\/span><\/li>\n  <li><span class='match'>already<\/span><\/li>\n  <li><span class='match'>alright<\/span><\/li>\n  <li><span class='match'>althoug<\/span>h<\/li>\n  <li><span class='match'>america<\/span><\/li>\n  <li><span class='match'>another<\/span><\/li>\n  <li><span class='match'>apparen<\/span>t<\/li>\n  <li><span class='match'>appoint<\/span><\/li>\n  <li><span class='match'>approac<\/span>h<\/li>\n  <li><span class='match'>appropr<\/span>iate<\/li>\n  <li><span class='match'>arrange<\/span><\/li>\n  <li><span class='match'>associa<\/span>te<\/li>\n  <li><span class='match'>authori<\/span>ty<\/li>\n  <li><span class='match'>availab<\/span>le<\/li>\n  <li><span class='match'>balance<\/span><\/li>\n  <li><span class='match'>because<\/span><\/li>\n  <li><span class='match'>believe<\/span><\/li>\n  <li><span class='match'>benefit<\/span><\/li>\n  <li><span class='match'>between<\/span><\/li>\n  <li><span class='match'>brillia<\/span>nt<\/li>\n  <li><span class='match'>britain<\/span><\/li>\n  <li><span class='match'>brother<\/span><\/li>\n  <li><span class='match'>busines<\/span>s<\/li>\n  <li><span class='match'>certain<\/span><\/li>\n  <li><span class='match'>chairma<\/span>n<\/li>\n  <li><span class='match'>charact<\/span>er<\/li>\n  <li><span class='match'>Christm<\/span>as<\/li>\n  <li><span class='match'>colleag<\/span>ue<\/li>\n  <li><span class='match'>collect<\/span><\/li>\n  <li><span class='match'>college<\/span><\/li>\n  <li><span class='match'>comment<\/span><\/li>\n  <li><span class='match'>committ<\/span>ee<\/li>\n  <li><span class='match'>communi<\/span>ty<\/li>\n  <li><span class='match'>company<\/span><\/li>\n  <li><span class='match'>compare<\/span><\/li>\n  <li><span class='match'>complet<\/span>e<\/li>\n  <li><span class='match'>compute<\/span><\/li>\n  <li><span class='match'>concern<\/span><\/li>\n  <li><span class='match'>conditi<\/span>on<\/li>\n  <li><span class='match'>conside<\/span>r<\/li>\n  <li><span class='match'>consult<\/span><\/li>\n  <li><span class='match'>contact<\/span><\/li>\n  <li><span class='match'>continu<\/span>e<\/li>\n  <li><span class='match'>contrac<\/span>t<\/li>\n  <li><span class='match'>control<\/span><\/li>\n  <li><span class='match'>convers<\/span>e<\/li>\n  <li><span class='match'>correct<\/span><\/li>\n  <li><span class='match'>council<\/span><\/li>\n  <li><span class='match'>country<\/span><\/li>\n  <li><span class='match'>current<\/span><\/li>\n  <li><span class='match'>decisio<\/span>n<\/li>\n  <li><span class='match'>definit<\/span>e<\/li>\n  <li><span class='match'>departm<\/span>ent<\/li>\n  <li><span class='match'>describ<\/span>e<\/li>\n  <li><span class='match'>develop<\/span><\/li>\n  <li><span class='match'>differe<\/span>nce<\/li>\n  <li><span class='match'>difficu<\/span>lt<\/li>\n  <li><span class='match'>discuss<\/span><\/li>\n  <li><span class='match'>distric<\/span>t<\/li>\n  <li><span class='match'>documen<\/span>t<\/li>\n  <li><span class='match'>economy<\/span><\/li>\n  <li><span class='match'>educate<\/span><\/li>\n  <li><span class='match'>electri<\/span>c<\/li>\n  <li><span class='match'>encoura<\/span>ge<\/li>\n  <li><span class='match'>english<\/span><\/li>\n  <li><span class='match'>environ<\/span>ment<\/li>\n  <li><span class='match'>especia<\/span>l<\/li>\n  <li><span class='match'>evening<\/span><\/li>\n  <li><span class='match'>evidenc<\/span>e<\/li>\n  <li><span class='match'>example<\/span><\/li>\n  <li><span class='match'>exercis<\/span>e<\/li>\n  <li><span class='match'>expense<\/span><\/li>\n  <li><span class='match'>experie<\/span>nce<\/li>\n  <li><span class='match'>explain<\/span><\/li>\n  <li><span class='match'>express<\/span><\/li>\n  <li><span class='match'>finance<\/span><\/li>\n  <li><span class='match'>fortune<\/span><\/li>\n  <li><span class='match'>forward<\/span><\/li>\n  <li><span class='match'>functio<\/span>n<\/li>\n  <li><span class='match'>further<\/span><\/li>\n  <li><span class='match'>general<\/span><\/li>\n  <li><span class='match'>germany<\/span><\/li>\n  <li><span class='match'>goodbye<\/span><\/li>\n  <li><span class='match'>history<\/span><\/li>\n  <li><span class='match'>holiday<\/span><\/li>\n  <li><span class='match'>hospita<\/span>l<\/li>\n  <li><span class='match'>however<\/span><\/li>\n  <li><span class='match'>hundred<\/span><\/li>\n  <li><span class='match'>husband<\/span><\/li>\n  <li><span class='match'>identif<\/span>y<\/li>\n  <li><span class='match'>imagine<\/span><\/li>\n  <li><span class='match'>importa<\/span>nt<\/li>\n  <li><span class='match'>improve<\/span><\/li>\n  <li><span class='match'>include<\/span><\/li>\n  <li><span class='match'>increas<\/span>e<\/li>\n  <li><span class='match'>individ<\/span>ual<\/li>\n  <li><span class='match'>industr<\/span>y<\/li>\n  <li><span class='match'>instead<\/span><\/li>\n  <li><span class='match'>interes<\/span>t<\/li>\n  <li><span class='match'>introdu<\/span>ce<\/li>\n  <li><span class='match'>involve<\/span><\/li>\n  <li><span class='match'>kitchen<\/span><\/li>\n  <li><span class='match'>languag<\/span>e<\/li>\n  <li><span class='match'>machine<\/span><\/li>\n  <li><span class='match'>meaning<\/span><\/li>\n  <li><span class='match'>measure<\/span><\/li>\n  <li><span class='match'>mention<\/span><\/li>\n  <li><span class='match'>million<\/span><\/li>\n  <li><span class='match'>ministe<\/span>r<\/li>\n  <li><span class='match'>morning<\/span><\/li>\n  <li><span class='match'>necessa<\/span>ry<\/li>\n  <li><span class='match'>obvious<\/span><\/li>\n  <li><span class='match'>occasio<\/span>n<\/li>\n  <li><span class='match'>operate<\/span><\/li>\n  <li><span class='match'>opportu<\/span>nity<\/li>\n  <li><span class='match'>organiz<\/span>e<\/li>\n  <li><span class='match'>origina<\/span>l<\/li>\n  <li><span class='match'>otherwi<\/span>se<\/li>\n  <li><span class='match'>paragra<\/span>ph<\/li>\n  <li><span class='match'>particu<\/span>lar<\/li>\n  <li><span class='match'>pension<\/span><\/li>\n  <li><span class='match'>percent<\/span><\/li>\n  <li><span class='match'>perfect<\/span><\/li>\n  <li><span class='match'>perhaps<\/span><\/li>\n  <li><span class='match'>photogr<\/span>aph<\/li>\n  <li><span class='match'>picture<\/span><\/li>\n  <li><span class='match'>politic<\/span><\/li>\n  <li><span class='match'>positio<\/span>n<\/li>\n  <li><span class='match'>positiv<\/span>e<\/li>\n  <li><span class='match'>possibl<\/span>e<\/li>\n  <li><span class='match'>practis<\/span>e<\/li>\n  <li><span class='match'>prepare<\/span><\/li>\n  <li><span class='match'>present<\/span><\/li>\n  <li><span class='match'>pressur<\/span>e<\/li>\n  <li><span class='match'>presume<\/span><\/li>\n  <li><span class='match'>previou<\/span>s<\/li>\n  <li><span class='match'>private<\/span><\/li>\n  <li><span class='match'>probabl<\/span>e<\/li>\n  <li><span class='match'>problem<\/span><\/li>\n  <li><span class='match'>proceed<\/span><\/li>\n  <li><span class='match'>process<\/span><\/li>\n  <li><span class='match'>produce<\/span><\/li>\n  <li><span class='match'>product<\/span><\/li>\n  <li><span class='match'>program<\/span>me<\/li>\n  <li><span class='match'>project<\/span><\/li>\n  <li><span class='match'>propose<\/span><\/li>\n  <li><span class='match'>protect<\/span><\/li>\n  <li><span class='match'>provide<\/span><\/li>\n  <li><span class='match'>purpose<\/span><\/li>\n  <li><span class='match'>quality<\/span><\/li>\n  <li><span class='match'>quarter<\/span><\/li>\n  <li><span class='match'>questio<\/span>n<\/li>\n  <li><span class='match'>realise<\/span><\/li>\n  <li><span class='match'>receive<\/span><\/li>\n  <li><span class='match'>recogni<\/span>ze<\/li>\n  <li><span class='match'>recomme<\/span>nd<\/li>\n  <li><span class='match'>relatio<\/span>n<\/li>\n  <li><span class='match'>remembe<\/span>r<\/li>\n  <li><span class='match'>represe<\/span>nt<\/li>\n  <li><span class='match'>require<\/span><\/li>\n  <li><span class='match'>researc<\/span>h<\/li>\n  <li><span class='match'>resourc<\/span>e<\/li>\n  <li><span class='match'>respect<\/span><\/li>\n  <li><span class='match'>respons<\/span>ible<\/li>\n  <li><span class='match'>saturda<\/span>y<\/li>\n  <li><span class='match'>science<\/span><\/li>\n  <li><span class='match'>scotlan<\/span>d<\/li>\n  <li><span class='match'>secreta<\/span>ry<\/li>\n  <li><span class='match'>section<\/span><\/li>\n  <li><span class='match'>separat<\/span>e<\/li>\n  <li><span class='match'>serious<\/span><\/li>\n  <li><span class='match'>service<\/span><\/li>\n  <li><span class='match'>similar<\/span><\/li>\n  <li><span class='match'>situate<\/span><\/li>\n  <li><span class='match'>society<\/span><\/li>\n  <li><span class='match'>special<\/span><\/li>\n  <li><span class='match'>specifi<\/span>c<\/li>\n  <li><span class='match'>standar<\/span>d<\/li>\n  <li><span class='match'>station<\/span><\/li>\n  <li><span class='match'>straigh<\/span>t<\/li>\n  <li><span class='match'>strateg<\/span>y<\/li>\n  <li><span class='match'>structu<\/span>re<\/li>\n  <li><span class='match'>student<\/span><\/li>\n  <li><span class='match'>subject<\/span><\/li>\n  <li><span class='match'>succeed<\/span><\/li>\n  <li><span class='match'>suggest<\/span><\/li>\n  <li><span class='match'>support<\/span><\/li>\n  <li><span class='match'>suppose<\/span><\/li>\n  <li><span class='match'>surpris<\/span>e<\/li>\n  <li><span class='match'>telepho<\/span>ne<\/li>\n  <li><span class='match'>televis<\/span>ion<\/li>\n  <li><span class='match'>terribl<\/span>e<\/li>\n  <li><span class='match'>therefo<\/span>re<\/li>\n  <li><span class='match'>thirtee<\/span>n<\/li>\n  <li><span class='match'>thousan<\/span>d<\/li>\n  <li><span class='match'>through<\/span><\/li>\n  <li><span class='match'>thursda<\/span>y<\/li>\n  <li><span class='match'>togethe<\/span>r<\/li>\n  <li><span class='match'>tomorro<\/span>w<\/li>\n  <li><span class='match'>tonight<\/span><\/li>\n  <li><span class='match'>traffic<\/span><\/li>\n  <li><span class='match'>transpo<\/span>rt<\/li>\n  <li><span class='match'>trouble<\/span><\/li>\n  <li><span class='match'>tuesday<\/span><\/li>\n  <li><span class='match'>underst<\/span>and<\/li>\n  <li><span class='match'>univers<\/span>ity<\/li>\n  <li><span class='match'>various<\/span><\/li>\n  <li><span class='match'>village<\/span><\/li>\n  <li><span class='match'>wednesd<\/span>ay<\/li>\n  <li><span class='match'>welcome<\/span><\/li>\n  <li><span class='match'>whether<\/span><\/li>\n  <li><span class='match'>without<\/span><\/li>\n  <li><span class='match'>yesterd<\/span>ay<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</li>
</ol>
</div>
</div>
</div>
<div id="character-classes-and-alternatives" class="section level3 r4ds-section">
<h3>
<a href="#character-classes-and-alternatives" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.3.3</span> Character classes and alternatives<a href="https://r4ds.had.co.nz/strings.html#character-classes-and-alternatives" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.3.3.1" class="section level4 unnumbered exercise" data-number="14.3.3.1">
<h4>Exercise 14.3.3.1<a href="#exercise-14.3.3.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Create regular expressions to find all words that:</p>
<ol style="list-style-type: decimal">
<li>Start with a vowel.</li>
<li>That only contain consonants. (Hint: thinking about matching “not”-vowels.)</li>
<li>End with <code>ed</code>, but not with <code>eed</code>.</li>
<li>End with <code>ing</code> or <code>ise</code>.</li>
</ol>
</div>
<p><xdiv class="answer"></xdiv></p>
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li>
<p>Words starting with vowels</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb437-1" data-line-number="1"><span class="kw">str_subset</span>(stringr<span class="op">::</span>words, <span class="st">"^[aeiou]"</span>)</a>
<a class="sourceLine" id="cb437-2" data-line-number="2"><span class="co">#&gt;   [1] "a"           "able"        "about"       "absolute"    "accept"     </span></a>
<a class="sourceLine" id="cb437-3" data-line-number="3"><span class="co">#&gt;   [6] "account"     "achieve"     "across"      "act"         "active"     </span></a>
<a class="sourceLine" id="cb437-4" data-line-number="4"><span class="co">#&gt;  [11] "actual"      "add"         "address"     "admit"       "advertise"  </span></a>
<a class="sourceLine" id="cb437-5" data-line-number="5"><span class="co">#&gt;  [16] "affect"      "afford"      "after"       "afternoon"   "again"      </span></a>
<a class="sourceLine" id="cb437-6" data-line-number="6"><span class="co">#&gt;  [21] "against"     "age"         "agent"       "ago"         "agree"      </span></a>
<a class="sourceLine" id="cb437-7" data-line-number="7"><span class="co">#&gt;  [26] "air"         "all"         "allow"       "almost"      "along"      </span></a>
<a class="sourceLine" id="cb437-8" data-line-number="8"><span class="co">#&gt;  [31] "already"     "alright"     "also"        "although"    "always"     </span></a>
<a class="sourceLine" id="cb437-9" data-line-number="9"><span class="co">#&gt;  [36] "america"     "amount"      "and"         "another"     "answer"     </span></a>
<a class="sourceLine" id="cb437-10" data-line-number="10"><span class="co">#&gt;  [41] "any"         "apart"       "apparent"    "appear"      "apply"      </span></a>
<a class="sourceLine" id="cb437-11" data-line-number="11"><span class="co">#&gt;  [46] "appoint"     "approach"    "appropriate" "area"        "argue"      </span></a>
<a class="sourceLine" id="cb437-12" data-line-number="12"><span class="co">#&gt;  [51] "arm"         "around"      "arrange"     "art"         "as"         </span></a>
<a class="sourceLine" id="cb437-13" data-line-number="13"><span class="co">#&gt;  [56] "ask"         "associate"   "assume"      "at"          "attend"     </span></a>
<a class="sourceLine" id="cb437-14" data-line-number="14"><span class="co">#&gt;  [61] "authority"   "available"   "aware"       "away"        "awful"      </span></a>
<a class="sourceLine" id="cb437-15" data-line-number="15"><span class="co">#&gt;  [66] "each"        "early"       "east"        "easy"        "eat"        </span></a>
<a class="sourceLine" id="cb437-16" data-line-number="16"><span class="co">#&gt;  [71] "economy"     "educate"     "effect"      "egg"         "eight"      </span></a>
<a class="sourceLine" id="cb437-17" data-line-number="17"><span class="co">#&gt;  [76] "either"      "elect"       "electric"    "eleven"      "else"       </span></a>
<a class="sourceLine" id="cb437-18" data-line-number="18"><span class="co">#&gt;  [81] "employ"      "encourage"   "end"         "engine"      "english"    </span></a>
<a class="sourceLine" id="cb437-19" data-line-number="19"><span class="co">#&gt;  [86] "enjoy"       "enough"      "enter"       "environment" "equal"      </span></a>
<a class="sourceLine" id="cb437-20" data-line-number="20"><span class="co">#&gt;  [91] "especial"    "europe"      "even"        "evening"     "ever"       </span></a>
<a class="sourceLine" id="cb437-21" data-line-number="21"><span class="co">#&gt;  [96] "every"       "evidence"    "exact"       "example"     "except"     </span></a>
<a class="sourceLine" id="cb437-22" data-line-number="22"><span class="co">#&gt; [101] "excuse"      "exercise"    "exist"       "expect"      "expense"    </span></a>
<a class="sourceLine" id="cb437-23" data-line-number="23"><span class="co">#&gt; [106] "experience"  "explain"     "express"     "extra"       "eye"        </span></a>
<a class="sourceLine" id="cb437-24" data-line-number="24"><span class="co">#&gt; [111] "idea"        "identify"    "if"          "imagine"     "important"  </span></a>
<a class="sourceLine" id="cb437-25" data-line-number="25"><span class="co">#&gt; [116] "improve"     "in"          "include"     "income"      "increase"   </span></a>
<a class="sourceLine" id="cb437-26" data-line-number="26"><span class="co">#&gt; [121] "indeed"      "individual"  "industry"    "inform"      "inside"     </span></a>
<a class="sourceLine" id="cb437-27" data-line-number="27"><span class="co">#&gt; [126] "instead"     "insure"      "interest"    "into"        "introduce"  </span></a>
<a class="sourceLine" id="cb437-28" data-line-number="28"><span class="co">#&gt; [131] "invest"      "involve"     "issue"       "it"          "item"       </span></a>
<a class="sourceLine" id="cb437-29" data-line-number="29"><span class="co">#&gt; [136] "obvious"     "occasion"    "odd"         "of"          "off"        </span></a>
<a class="sourceLine" id="cb437-30" data-line-number="30"><span class="co">#&gt; [141] "offer"       "office"      "often"       "okay"        "old"        </span></a>
<a class="sourceLine" id="cb437-31" data-line-number="31"><span class="co">#&gt; [146] "on"          "once"        "one"         "only"        "open"       </span></a>
<a class="sourceLine" id="cb437-32" data-line-number="32"><span class="co">#&gt; [151] "operate"     "opportunity" "oppose"      "or"          "order"      </span></a>
<a class="sourceLine" id="cb437-33" data-line-number="33"><span class="co">#&gt; [156] "organize"    "original"    "other"       "otherwise"   "ought"      </span></a>
<a class="sourceLine" id="cb437-34" data-line-number="34"><span class="co">#&gt; [161] "out"         "over"        "own"         "under"       "understand" </span></a>
<a class="sourceLine" id="cb437-35" data-line-number="35"><span class="co">#&gt; [166] "union"       "unit"        "unite"       "university"  "unless"     </span></a>
<a class="sourceLine" id="cb437-36" data-line-number="36"><span class="co">#&gt; [171] "until"       "up"          "upon"        "use"         "usual"</span></a></code></pre></div>
</li>
<li>
<p>Words that contain only consonants</p>
<div class="sourceCode" id="cb438"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb438-1" data-line-number="1"><span class="kw">str_subset</span>(stringr<span class="op">::</span>words, <span class="st">"^[^aeiou]+$"</span>)</a>
<a class="sourceLine" id="cb438-2" data-line-number="2"><span class="co">#&gt; [1] "by"  "dry" "fly" "mrs" "try" "why"</span></a></code></pre></div>
<p>This seems to require using the <code>+</code> pattern introduced later, unless one wants to be very verbose and specify words of certain lengths.</p>
</li>
<li>
<p>Words that end with “-ed” but not ending in “-eed”.</p>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb439-1" data-line-number="1"><span class="kw">str_subset</span>(stringr<span class="op">::</span>words, <span class="st">"[^e]ed$"</span>)</a>
<a class="sourceLine" id="cb439-2" data-line-number="2"><span class="co">#&gt; [1] "bed"     "hundred" "red"</span></a></code></pre></div>
<p>The pattern above will not match the word <code>"ed"</code>. If we wanted to include that, we could include it as a special case.</p>
<div class="sourceCode" id="cb440"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb440-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">"ed"</span>, stringr<span class="op">::</span>words), <span class="st">"(^|[^e])ed$"</span>)</a>
<a class="sourceLine" id="cb440-2" data-line-number="2"><span class="co">#&gt; [1] "ed"      "bed"     "hundred" "red"</span></a></code></pre></div>
</li>
<li>
<p>Words ending in <code>ing</code> or <code>ise</code>:</p>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb441-1" data-line-number="1"><span class="kw">str_subset</span>(stringr<span class="op">::</span>words, <span class="st">"i(ng|se)$"</span>)</a>
<a class="sourceLine" id="cb441-2" data-line-number="2"><span class="co">#&gt;  [1] "advertise" "bring"     "during"    "evening"   "exercise"  "king"     </span></a>
<a class="sourceLine" id="cb441-3" data-line-number="3"><span class="co">#&gt;  [7] "meaning"   "morning"   "otherwise" "practise"  "raise"     "realise"  </span></a>
<a class="sourceLine" id="cb441-4" data-line-number="4"><span class="co">#&gt; [13] "ring"      "rise"      "sing"      "surprise"  "thing"</span></a></code></pre></div>
</li>
</ol>
</div>
</div>
<div id="exercise-14.3.3.2" class="section level4 unnumbered exercise" data-number="14.3.3.2">
<h4>Exercise 14.3.3.2<a href="#exercise-14.3.3.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Empirically verify the rule “i” before e except after “c”.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb442"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb442-1" data-line-number="1"><span class="kw">length</span>(<span class="kw">str_subset</span>(stringr<span class="op">::</span>words, <span class="st">"(cei|[^c]ie)"</span>))</a>
<a class="sourceLine" id="cb442-2" data-line-number="2"><span class="co">#&gt; [1] 14</span></a></code></pre></div>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb443-1" data-line-number="1"><span class="kw">length</span>(<span class="kw">str_subset</span>(stringr<span class="op">::</span>words, <span class="st">"(cie|[^c]ei)"</span>))</a>
<a class="sourceLine" id="cb443-2" data-line-number="2"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.3.3.3" class="section level4 unnumbered exercise" data-number="14.3.3.3">
<h4>Exercise 14.3.3.3<a href="#exercise-14.3.3.3" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Is “q” always followed by a “u”?</p>
</div>
<div class="answer">
<p>In the <code>stringr::words</code> dataset, yes.</p>
<div class="sourceCode" id="cb444"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb444-1" data-line-number="1"><span class="kw">str_view</span>(stringr<span class="op">::</span>words, <span class="st">"q[^u]"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-5b1b2f4ad92281566982" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5b1b2f4ad92281566982">{"x":{"html":"<ul>\n  <li><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>In the English language— <a href="https://en.wiktionary.org/wiki/Appendix:English_words_containing_Q_not_followed_by_U">no</a>.
However, the examples are few, and mostly loanwords, such as “burqa” and “cinq”.
Also, “qwerty”.
That I had to add all of those examples to the list of words that spellchecking should ignore is indicative of their rarity.</p>
</div>
</div>
<div id="exercise-14.3.3.4" class="section level4 unnumbered exercise" data-number="14.3.3.4">
<h4>Exercise 14.3.3.4<a href="#exercise-14.3.3.4" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Write a regular expression that matches a word if it’s probably written in British English, not American English.</p>
</div>
<div class="answer">
<p>In the general case, this is hard, and could require a dictionary.
But, there are a few heuristics to consider that would account for some common cases: British English tends to use the following:</p>
<ul>
<li>“ou” instead of “o”</li>
<li>use of “ae” and “oe” instead of “a” and “o”</li>
<li>ends in <code>ise</code> instead of <code>ize</code>
</li>
<li>ends in <code>yse</code>
</li>
</ul>
<p>The regex <code>ou|ise$|ae|oe|yse$</code> would match these.</p>
<p>There are other <a href="https://en.wikipedia.org/wiki/American_and_British_English_spelling_differences">spelling differences between American and British English</a> but they are not patterns amenable to regular expressions.
It would require a dictionary with differences in spellings for different words.</p>
</div>
</div>
<div id="exercise-14.3.3.5" class="section level4 unnumbered exercise" data-number="14.3.3.5">
<h4>Exercise 14.3.3.5<a href="#exercise-14.3.3.5" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Create a regular expression that will match telephone numbers as commonly written in your country.</p>
</div>
<div class="answer">
<p>&lt;div class="alert alert-primary hints-alert&gt;
This answer can be improved and expanded.</p>
</div>
<p>The answer to this will vary by country.</p>
<!-- grouping is not covered until 14.3.5 -->
<p>For the United States, phone numbers have a format like <code>123-456-7890</code> or <code>(123)456-7890</code>).
These regular expressions will parse the first form</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb445-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"123-456-7890"</span>, <span class="st">"(123)456-7890"</span>, <span class="st">"(123) 456-7890"</span>, <span class="st">"1235-2351"</span>)</a>
<a class="sourceLine" id="cb445-2" data-line-number="2"><span class="kw">str_view</span>(x, <span class="st">"</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d-</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d-</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d"</span>)</a></code></pre></div>
<div id="htmlwidget-25c3e940e6859592f801" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-25c3e940e6859592f801">{"x":{"html":"<ul>\n  <li><span class='match'>123-456-7890<\/span><\/li>\n  <li>(123)456-7890<\/li>\n  <li>(123) 456-7890<\/li>\n  <li>1235-2351<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb446"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb446-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"[0-9][0-9][0-9]-[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]"</span>)</a></code></pre></div>
<p></p>
<div id="htmlwidget-3f27c09be0c60bb52829" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-3f27c09be0c60bb52829">{"x":{"html":"<ul>\n  <li><span class='match'>123-456-7890<\/span><\/li>\n  <li>(123)456-7890<\/li>\n  <li>(123) 456-7890<\/li>\n  <li>1235-2351<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
The regular expressions will parse the second form:
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb447-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"</span><span class="ch">\\</span><span class="st">(</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">)</span><span class="ch">\\</span><span class="st">s*</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d-</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d</span><span class="ch">\\</span><span class="st">d"</span>)</a></code></pre></div>
<div id="htmlwidget-416566eb193bf50d04e6" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-416566eb193bf50d04e6">{"x":{"html":"<ul>\n  <li>123-456-7890<\/li>\n  <li><span class='match'>(123)456-7890<\/span><\/li>\n  <li><span class='match'>(123) 456-7890<\/span><\/li>\n  <li>1235-2351<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb448-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"</span><span class="ch">\\</span><span class="st">([0-9][0-9][0-9]</span><span class="ch">\\</span><span class="st">)[ ]*[0-9][0-9][0-9]-[0-9][0-9][0-9][0-9]"</span>)</a></code></pre></div>
<div id="htmlwidget-72cbf064100ce560a04c" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-72cbf064100ce560a04c">{"x":{"html":"<ul>\n  <li>123-456-7890<\/li>\n  <li><span class='match'>(123)456-7890<\/span><\/li>\n  <li><span class='match'>(123) 456-7890<\/span><\/li>\n  <li>1235-2351<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>This regular expression can be simplified with the <code>{m,n}</code> regular expression modifier introduced in the next section,</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb449-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"</span><span class="ch">\\</span><span class="st">d{3}-</span><span class="ch">\\</span><span class="st">d{3}-</span><span class="ch">\\</span><span class="st">d{4}"</span>)</a></code></pre></div>
<div id="htmlwidget-d11fc4360aa0230696d7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d11fc4360aa0230696d7">{"x":{"html":"<ul>\n  <li><span class='match'>123-456-7890<\/span><\/li>\n  <li>(123)456-7890<\/li>\n  <li>(123) 456-7890<\/li>\n  <li>1235-2351<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb450-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"</span><span class="ch">\\</span><span class="st">(</span><span class="ch">\\</span><span class="st">d{3}</span><span class="ch">\\</span><span class="st">)</span><span class="ch">\\</span><span class="st">s*</span><span class="ch">\\</span><span class="st">d{3}-</span><span class="ch">\\</span><span class="st">d{4}"</span>)</a></code></pre></div>
<div id="htmlwidget-21c7483268bafca56cec" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-21c7483268bafca56cec">{"x":{"html":"<ul>\n  <li>123-456-7890<\/li>\n  <li><span class='match'>(123)456-7890<\/span><\/li>\n  <li><span class='match'>(123) 456-7890<\/span><\/li>\n  <li>1235-2351<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>Note that this pattern doesn’t account for phone numbers that are invalid
due to an invalid area code.
Nor does this pattern account for special numbers like 911.
It also doesn’t parse a leading country code or an extensions.
See the Wikipedia page for the <a href="https://en.wikipedia.org/wiki/North_American_Numbering_Plan">North American Numbering
Plan</a> for more information on the complexities of US phone numbers, and <a href="https://stackoverflow.com/questions/123559/a-comprehensive-regex-for-phone-number-validation">this Stack Overflow
question</a> for a discussion of using a regex for phone number validation.
The R package <a href="https://cran.r-project.org/web/packages/dialr/index.html">dialr</a> implements robust phone number parsing.
Generally, for patterns like phone numbers or URLs it is better to use a dedicated package.
It is easy to match the pattern for the most common cases and useful for learning regular expressions, but in real applications there often edge cases that are handled by dedicated packages.</p>
</div>
</div>
</div>
<div id="repetition" class="section level3 r4ds-section">
<h3>
<a href="#repetition" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.3.4</span> Repetition<a href="https://r4ds.had.co.nz/strings.html#repetition" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.3.4.1" class="section level4 unnumbered exercise" data-number="14.3.4.1">
<h4>Exercise 14.3.4.1<a href="#exercise-14.3.4.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Describe the equivalents of <code>?</code>, <code>+</code>, <code>*</code> in <code>{m,n}</code> form.</p>
</div>
<div class="answer">
<table>
<thead><tr class="header">
<th>Pattern</th>
<th><code>{m,n}</code></th>
<th>Meaning</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>?</code></td>
<td><code>{0,1}</code></td>
<td>Match at most 1</td>
</tr>
<tr class="even">
<td><code>+</code></td>
<td><code>{1,}</code></td>
<td>Match 1 or more</td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td><code>{0,}</code></td>
<td>Match 0 or more</td>
</tr>
</tbody>
</table>
<p>For example, let’s repeat the examples in the chapter, replacing <code>?</code> with <code>{0,1}</code>,
<code>+</code> with <code>{1,}</code>, and <code>*</code> with <code>{*,}</code>.</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb451-1" data-line-number="1">x &lt;-<span class="st"> "1888 is the longest year in Roman numerals: MDCCCLXXXVIII"</span></a></code></pre></div>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb452-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"CC?"</span>)</a></code></pre></div>
<div id="htmlwidget-1834a22cd196f3aa03a1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1834a22cd196f3aa03a1">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CC<\/span>CLXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb453-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"CC{0,1}"</span>)</a></code></pre></div>
<div id="htmlwidget-28515d92cb327f90c9eb" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-28515d92cb327f90c9eb">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CC<\/span>CLXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb454-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"CC+"</span>)</a></code></pre></div>
<div id="htmlwidget-0caf26d4e3c00206b0c5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0caf26d4e3c00206b0c5">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CCC<\/span>LXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb455-1" data-line-number="1"><span class="kw">str_view</span>(x, <span class="st">"CC{1,}"</span>)</a></code></pre></div>
<div id="htmlwidget-da0b268a2927f570ebf3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-da0b268a2927f570ebf3">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>CCC<\/span>LXXXVIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb456-1" data-line-number="1"><span class="kw">str_view_all</span>(x, <span class="st">"C[LX]+"</span>)</a></code></pre></div>
<div id="htmlwidget-0ed12bb554391c49c2e3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0ed12bb554391c49c2e3">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MDCC<span class='match'>CLXXX<\/span>VIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb457-1" data-line-number="1"><span class="kw">str_view_all</span>(x, <span class="st">"C[LX]{1,}"</span>)</a></code></pre></div>
<div id="htmlwidget-ec658d41f8c4f2d124e9" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-ec658d41f8c4f2d124e9">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MDCC<span class='match'>CLXXX<\/span>VIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><p>The chapter does not contain an example of <code>*</code>.
This pattern looks for a “C” optionally followed by
any number of “L” or “X” characters.</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb458-1" data-line-number="1"><span class="kw">str_view_all</span>(x, <span class="st">"C[LX]*"</span>)</a></code></pre></div>
<div id="htmlwidget-6b83523733b890d61edc" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6b83523733b890d61edc">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>C<\/span><span class='match'>C<\/span><span class='match'>CLXXX<\/span>VIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb459-1" data-line-number="1"><span class="kw">str_view_all</span>(x, <span class="st">"C[LX]{0,}"</span>)</a></code></pre></div>
<div id="htmlwidget-b3f7c917b6c8ff580948" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b3f7c917b6c8ff580948">{"x":{"html":"<ul>\n  <li>1888 is the longest year in Roman numerals: MD<span class='match'>C<\/span><span class='match'>C<\/span><span class='match'>CLXXX<\/span>VIII<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="exercise-14.3.4.2" class="section level4 unnumbered exercise" data-number="14.3.4.2">
<h4>Exercise 14.3.4.2<a href="#exercise-14.3.4.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Describe in words what these regular expressions match: (read carefully to see if I’m using a regular expression or a string that defines a regular expression.)</p>
<ol style="list-style-type: decimal">
<li><code>^.*$</code></li>
<li><code>"\\{.+\\}"</code></li>
<li><code>\d{4}-\d{2}-\d{2}</code></li>
<li><code>"\\\\{4}"</code></li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li><p><code>^.*$</code> will match any string. For example: <code>^.*$</code>: <code>c("dog", "$1.23", "lorem ipsum")</code>.</p></li>
<li><p><code>"\\{.+\\}"</code> will match any string with curly braces surrounding at least one character.
For example: <code>"\\{.+\\}"</code>: <code>c("{a}", "{abc}")</code>.</p></li>
<li><p><code>\d{4}-\d{2}-\d{2}</code> will match four digits followed by a hyphen, followed by
two digits followed by a hyphen, followed by another two digits.
This is a regular expression that can match dates formatted like “YYYY-MM-DD” (“%Y-%m-%d”).
For example: <code>\d{4}-\d{2}-\d{2}</code>: <code>2018-01-11</code></p></li>
<li><p><code>"\\\\{4}"</code> is <code>\\{4}</code>, which will match four backslashes.
For example: <code>"\\\\{4}"</code>: <code>"\\\\\\\\"</code>.</p></li>
</ol>
</div>
</div>
<div id="exercise-14.3.4.3" class="section level4 unnumbered exercise" data-number="14.3.4.3">
<h4>Exercise 14.3.4.3<a href="#exercise-14.3.4.3" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Create regular expressions to find all words that:</p>
<ol style="list-style-type: decimal">
<li>Start with three consonants.</li>
<li>Have three or more vowels in a row.</li>
<li>Have two or more vowel-consonant pairs in a row.</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li>
<p>This regex finds all words starting with three consonants.</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb460-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">"^[^aeiou]{3}"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-d258b2ee1c304ebe1664" style="width:960px;height:100%;" class="str_view html-widget"></div>
    <script type="application/json" data-for="htmlwidget-d258b2ee1c304ebe1664">{"x":{"html":"<ul>\n  <li><span class='match'>Chr<\/span>ist<\/li>\n  <li><span class='match'>Chr<\/span>istmas<\/li>\n  <li><span class='match'>dry<\/span><\/li>\n  <li><span class='match'>fly<\/span><\/li>\n  <li><span class='match'>mrs<\/span><\/li>\n  <li><span class='match'>sch<\/span>eme<\/li>\n  <li><span class='match'>sch<\/span>ool<\/li>\n  <li><span class='match'>str<\/span>aight<\/li>\n  <li><span class='match'>str<\/span>ategy<\/li>\n  <li><span class='match'>str<\/span>eet<\/li>\n  <li><span class='match'>str<\/span>ike<\/li>\n  <li><span class='match'>str<\/span>ong<\/li>\n  <li><span class='match'>str<\/span>ucture<\/li>\n  <li><span class='match'>sys<\/span>tem<\/li>\n  <li><span class='match'>thr<\/span>ee<\/li>\n  <li><span class='match'>thr<\/span>ough<\/li>\n  <li><span class='match'>thr<\/span>ow<\/li>\n  <li><span class='match'>try<\/span><\/li>\n  <li><span class='match'>typ<\/span>e<\/li>\n  <li><span class='match'>why<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</li>
<li>
<p>This regex finds three or more vowels in a row:</p>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb461-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">"[aeiou]{3,}"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-b8f31ebacaee3527bb86" style="width:960px;height:100%;" class="str_view html-widget"></div>
    <script type="application/json" data-for="htmlwidget-b8f31ebacaee3527bb86">{"x":{"html":"<ul>\n  <li>b<span class='match'>eau<\/span>ty<\/li>\n  <li>obv<span class='match'>iou<\/span>s<\/li>\n  <li>prev<span class='match'>iou<\/span>s<\/li>\n  <li>q<span class='match'>uie<\/span>t<\/li>\n  <li>ser<span class='match'>iou<\/span>s<\/li>\n  <li>var<span class='match'>iou<\/span>s<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</li>
<li>
<p>This regex finds two or more vowel-consonant pairs in a row.</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb462-1" data-line-number="1"><span class="kw">str_view</span>(words, <span class="st">"([aeiou][^aeiou]){2,}"</span>, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-b25b670b028f478bf741" style="width:960px;height:100%;" class="str_view html-widget"></div>
    <script type="application/json" data-for="htmlwidget-b25b670b028f478bf741">{"x":{"html":"<ul>\n  <li>abs<span class='match'>olut<\/span>e<\/li>\n  <li><span class='match'>agen<\/span>t<\/li>\n  <li><span class='match'>alon<\/span>g<\/li>\n  <li><span class='match'>americ<\/span>a<\/li>\n  <li><span class='match'>anot<\/span>her<\/li>\n  <li><span class='match'>apar<\/span>t<\/li>\n  <li>app<span class='match'>aren<\/span>t<\/li>\n  <li>auth<span class='match'>orit<\/span>y<\/li>\n  <li>ava<span class='match'>ilab<\/span>le<\/li>\n  <li><span class='match'>awar<\/span>e<\/li>\n  <li><span class='match'>away<\/span><\/li>\n  <li>b<span class='match'>alan<\/span>ce<\/li>\n  <li>b<span class='match'>asis<\/span><\/li>\n  <li>b<span class='match'>ecom<\/span>e<\/li>\n  <li>b<span class='match'>efor<\/span>e<\/li>\n  <li>b<span class='match'>egin<\/span><\/li>\n  <li>b<span class='match'>ehin<\/span>d<\/li>\n  <li>b<span class='match'>enefit<\/span><\/li>\n  <li>b<span class='match'>usines<\/span>s<\/li>\n  <li>ch<span class='match'>arac<\/span>ter<\/li>\n  <li>cl<span class='match'>oses<\/span><\/li>\n  <li>comm<span class='match'>unit<\/span>y<\/li>\n  <li>cons<span class='match'>ider<\/span><\/li>\n  <li>c<span class='match'>over<\/span><\/li>\n  <li>d<span class='match'>ebat<\/span>e<\/li>\n  <li>d<span class='match'>ecid<\/span>e<\/li>\n  <li>d<span class='match'>ecis<\/span>ion<\/li>\n  <li>d<span class='match'>efinit<\/span>e<\/li>\n  <li>d<span class='match'>epar<\/span>tment<\/li>\n  <li>d<span class='match'>epen<\/span>d<\/li>\n  <li>d<span class='match'>esig<\/span>n<\/li>\n  <li>d<span class='match'>evelop<\/span><\/li>\n  <li>diff<span class='match'>eren<\/span>ce<\/li>\n  <li>diff<span class='match'>icul<\/span>t<\/li>\n  <li>d<span class='match'>irec<\/span>t<\/li>\n  <li>d<span class='match'>ivid<\/span>e<\/li>\n  <li>d<span class='match'>ocumen<\/span>t<\/li>\n  <li>d<span class='match'>urin<\/span>g<\/li>\n  <li><span class='match'>econom<\/span>y<\/li>\n  <li><span class='match'>educat<\/span>e<\/li>\n  <li><span class='match'>elec<\/span>t<\/li>\n  <li><span class='match'>elec<\/span>tric<\/li>\n  <li><span class='match'>eleven<\/span><\/li>\n  <li>enco<span class='match'>urag<\/span>e<\/li>\n  <li>env<span class='match'>iron<\/span>ment<\/li>\n  <li>e<span class='match'>urop<\/span>e<\/li>\n  <li><span class='match'>even<\/span><\/li>\n  <li><span class='match'>evenin<\/span>g<\/li>\n  <li><span class='match'>ever<\/span><\/li>\n  <li><span class='match'>ever<\/span>y<\/li>\n  <li><span class='match'>eviden<\/span>ce<\/li>\n  <li><span class='match'>exac<\/span>t<\/li>\n  <li><span class='match'>exam<\/span>ple<\/li>\n  <li><span class='match'>exer<\/span>cise<\/li>\n  <li><span class='match'>exis<\/span>t<\/li>\n  <li>f<span class='match'>amil<\/span>y<\/li>\n  <li>f<span class='match'>igur<\/span>e<\/li>\n  <li>f<span class='match'>inal<\/span><\/li>\n  <li>f<span class='match'>inan<\/span>ce<\/li>\n  <li>f<span class='match'>inis<\/span>h<\/li>\n  <li>fr<span class='match'>iday<\/span><\/li>\n  <li>f<span class='match'>utur<\/span>e<\/li>\n  <li>g<span class='match'>eneral<\/span><\/li>\n  <li>g<span class='match'>over<\/span>n<\/li>\n  <li>h<span class='match'>oliday<\/span><\/li>\n  <li>h<span class='match'>ones<\/span>t<\/li>\n  <li>hosp<span class='match'>ital<\/span><\/li>\n  <li>h<span class='match'>owever<\/span><\/li>\n  <li><span class='match'>iden<\/span>tify<\/li>\n  <li><span class='match'>imagin<\/span>e<\/li>\n  <li>ind<span class='match'>ivid<\/span>ual<\/li>\n  <li>int<span class='match'>eres<\/span>t<\/li>\n  <li>intr<span class='match'>oduc<\/span>e<\/li>\n  <li><span class='match'>item<\/span><\/li>\n  <li>j<span class='match'>esus<\/span><\/li>\n  <li>l<span class='match'>evel<\/span><\/li>\n  <li>l<span class='match'>ikel<\/span>y<\/li>\n  <li>l<span class='match'>imit<\/span><\/li>\n  <li>l<span class='match'>ocal<\/span><\/li>\n  <li>m<span class='match'>ajor<\/span><\/li>\n  <li>m<span class='match'>anag<\/span>e<\/li>\n  <li>me<span class='match'>anin<\/span>g<\/li>\n  <li>me<span class='match'>asur<\/span>e<\/li>\n  <li>m<span class='match'>inis<\/span>ter<\/li>\n  <li>m<span class='match'>inus<\/span><\/li>\n  <li>m<span class='match'>inut<\/span>e<\/li>\n  <li>m<span class='match'>omen<\/span>t<\/li>\n  <li>m<span class='match'>oney<\/span><\/li>\n  <li>m<span class='match'>usic<\/span><\/li>\n  <li>n<span class='match'>atur<\/span>e<\/li>\n  <li>n<span class='match'>eces<\/span>sary<\/li>\n  <li>n<span class='match'>ever<\/span><\/li>\n  <li>n<span class='match'>otic<\/span>e<\/li>\n  <li><span class='match'>okay<\/span><\/li>\n  <li><span class='match'>open<\/span><\/li>\n  <li><span class='match'>operat<\/span>e<\/li>\n  <li>opport<span class='match'>unit<\/span>y<\/li>\n  <li>org<span class='match'>aniz<\/span>e<\/li>\n  <li><span class='match'>original<\/span><\/li>\n  <li><span class='match'>over<\/span><\/li>\n  <li>p<span class='match'>aper<\/span><\/li>\n  <li>p<span class='match'>arag<\/span>raph<\/li>\n  <li>p<span class='match'>aren<\/span>t<\/li>\n  <li>part<span class='match'>icular<\/span><\/li>\n  <li>ph<span class='match'>otog<\/span>raph<\/li>\n  <li>p<span class='match'>olic<\/span>e<\/li>\n  <li>p<span class='match'>olic<\/span>y<\/li>\n  <li>p<span class='match'>olitic<\/span><\/li>\n  <li>p<span class='match'>osit<\/span>ion<\/li>\n  <li>p<span class='match'>ositiv<\/span>e<\/li>\n  <li>p<span class='match'>ower<\/span><\/li>\n  <li>pr<span class='match'>epar<\/span>e<\/li>\n  <li>pr<span class='match'>esen<\/span>t<\/li>\n  <li>pr<span class='match'>esum<\/span>e<\/li>\n  <li>pr<span class='match'>ivat<\/span>e<\/li>\n  <li>pr<span class='match'>obab<\/span>le<\/li>\n  <li>pr<span class='match'>oces<\/span>s<\/li>\n  <li>pr<span class='match'>oduc<\/span>e<\/li>\n  <li>pr<span class='match'>oduc<\/span>t<\/li>\n  <li>pr<span class='match'>ojec<\/span>t<\/li>\n  <li>pr<span class='match'>oper<\/span><\/li>\n  <li>pr<span class='match'>opos<\/span>e<\/li>\n  <li>pr<span class='match'>otec<\/span>t<\/li>\n  <li>pr<span class='match'>ovid<\/span>e<\/li>\n  <li>qu<span class='match'>alit<\/span>y<\/li>\n  <li>re<span class='match'>alis<\/span>e<\/li>\n  <li>re<span class='match'>ason<\/span><\/li>\n  <li>r<span class='match'>ecen<\/span>t<\/li>\n  <li>r<span class='match'>ecog<\/span>nize<\/li>\n  <li>r<span class='match'>ecom<\/span>mend<\/li>\n  <li>r<span class='match'>ecor<\/span>d<\/li>\n  <li>r<span class='match'>educ<\/span>e<\/li>\n  <li>r<span class='match'>efer<\/span><\/li>\n  <li>r<span class='match'>egar<\/span>d<\/li>\n  <li>r<span class='match'>elat<\/span>ion<\/li>\n  <li>r<span class='match'>emem<\/span>ber<\/li>\n  <li>r<span class='match'>epor<\/span>t<\/li>\n  <li>repr<span class='match'>esen<\/span>t<\/li>\n  <li>r<span class='match'>esul<\/span>t<\/li>\n  <li>r<span class='match'>etur<\/span>n<\/li>\n  <li>s<span class='match'>atur<\/span>day<\/li>\n  <li>s<span class='match'>econ<\/span>d<\/li>\n  <li>secr<span class='match'>etar<\/span>y<\/li>\n  <li>s<span class='match'>ecur<\/span>e<\/li>\n  <li>s<span class='match'>eparat<\/span>e<\/li>\n  <li>s<span class='match'>even<\/span><\/li>\n  <li>s<span class='match'>imilar<\/span><\/li>\n  <li>sp<span class='match'>ecific<\/span><\/li>\n  <li>str<span class='match'>ateg<\/span>y<\/li>\n  <li>st<span class='match'>uden<\/span>t<\/li>\n  <li>st<span class='match'>upid<\/span><\/li>\n  <li>t<span class='match'>elep<\/span>hone<\/li>\n  <li>t<span class='match'>elevis<\/span>ion<\/li>\n  <li>th<span class='match'>erefor<\/span>e<\/li>\n  <li>tho<span class='match'>usan<\/span>d<\/li>\n  <li>t<span class='match'>oday<\/span><\/li>\n  <li>t<span class='match'>oget<\/span>her<\/li>\n  <li>t<span class='match'>omor<\/span>row<\/li>\n  <li>t<span class='match'>onig<\/span>ht<\/li>\n  <li>t<span class='match'>otal<\/span><\/li>\n  <li>t<span class='match'>owar<\/span>d<\/li>\n  <li>tr<span class='match'>avel<\/span><\/li>\n  <li><span class='match'>unit<\/span><\/li>\n  <li><span class='match'>unit<\/span>e<\/li>\n  <li><span class='match'>univer<\/span>sity<\/li>\n  <li><span class='match'>upon<\/span><\/li>\n  <li>v<span class='match'>isit<\/span><\/li>\n  <li>w<span class='match'>ater<\/span><\/li>\n  <li>w<span class='match'>oman<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</li>
</ol>
</div>
</div>
<div id="exercise-14.3.4.4" class="section level4 unnumbered exercise" data-number="14.3.4.4">
<h4>Exercise 14.3.4.4<a href="#exercise-14.3.4.4" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Solve the beginner regexp crosswords at <a href="https://regexcrossword.com/challenges/" class="uri">https://regexcrossword.com/challenges/</a></p>
</div>
<div class="answer">
<p>Exercise left to reader. That site validates its solutions, so they aren’t repeated here.</p>
</div>
</div>
</div>
<div id="grouping-and-backreferences" class="section level3 r4ds-section">
<h3>
<a href="#grouping-and-backreferences" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.3.5</span> Grouping and backreferences<a href="https://r4ds.had.co.nz/strings.html#grouping-and-backreferences" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.3.5.1" class="section level4 unnumbered exercise" data-number="14.3.5.1">
<h4>Exercise 14.3.5.1<a href="#exercise-14.3.5.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Describe, in words, what these expressions will match:</p>
<ol style="list-style-type: decimal">
<li>
<code>(.)\1\1</code> :</li>
<li>
<code>"(.)(.)\\2\\1"</code>:</li>
<li>
<code>(..)\1</code>:</li>
<li>
<code>"(.).\\1.\\1"</code>:</li>
<li><code>"(.)(.)(.).*\\3\\2\\1"</code></li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li>
<code>(.)\1\1</code>: The same character appearing three times in a row. E.g. <code>"aaa"</code>
</li>
<li>
<code>"(.)(.)\\2\\1"</code>: A pair of characters followed by the same pair of characters in reversed order. E.g. <code>"abba"</code>.</li>
<li>
<code>(..)\1</code>: Any two characters repeated. E.g. <code>"a1a1"</code>.</li>
<li>
<code>"(.).\\1.\\1"</code>: A character followed by any character, the original character, any other character, the original character again. E.g. <code>"abaca"</code>, <code>"b8b.b"</code>.</li>
<li>
<code>"(.)(.)(.).*\\3\\2\\1"</code> Three characters followed by zero or more characters of any kind followed by the same three characters but in reverse order. E.g. <code>"abcsgasgddsadgsdgcba"</code> or <code>"abccba"</code> or <code>"abc1cba"</code>.</li>
</ol>
</div>
</div>
<div id="exercise-14.3.5.2" class="section level4 unnumbered exercise" data-number="14.3.5.2">
<h4>Exercise 14.3.5.2<a href="#exercise-14.3.5.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Construct regular expressions to match words that:</p>
<ol style="list-style-type: decimal">
<li>Start and end with the same character.</li>
<li>Contain a repeated pair of letters (e.g. <code>church'' contains</code>ch’’ repeated twice.)</li>
<li>Contain one letter repeated in at least three places (e.g. <code>eleven'' contains three</code>e’’s.)</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<!-- Use str_subset because I just want to pull words out -->
<ol style="list-style-type: decimal">
<li>
<p>This regular expression matches words that start and end with the same character.</p>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb463-1" data-line-number="1"><span class="kw">str_subset</span>(words, <span class="st">"^(.)((.*</span><span class="ch">\\</span><span class="st">1$)|</span><span class="ch">\\</span><span class="st">1?$)"</span>)</a>
<a class="sourceLine" id="cb463-2" data-line-number="2"><span class="co">#&gt;  [1] "a"          "america"    "area"       "dad"        "dead"      </span></a>
<a class="sourceLine" id="cb463-3" data-line-number="3"><span class="co">#&gt;  [6] "depend"     "educate"    "else"       "encourage"  "engine"    </span></a>
<a class="sourceLine" id="cb463-4" data-line-number="4"><span class="co">#&gt; [11] "europe"     "evidence"   "example"    "excuse"     "exercise"  </span></a>
<a class="sourceLine" id="cb463-5" data-line-number="5"><span class="co">#&gt; [16] "expense"    "experience" "eye"        "health"     "high"      </span></a>
<a class="sourceLine" id="cb463-6" data-line-number="6"><span class="co">#&gt; [21] "knock"      "level"      "local"      "nation"     "non"       </span></a>
<a class="sourceLine" id="cb463-7" data-line-number="7"><span class="co">#&gt; [26] "rather"     "refer"      "remember"   "serious"    "stairs"    </span></a>
<a class="sourceLine" id="cb463-8" data-line-number="8"><span class="co">#&gt; [31] "test"       "tonight"    "transport"  "treat"      "trust"     </span></a>
<a class="sourceLine" id="cb463-9" data-line-number="9"><span class="co">#&gt; [36] "window"     "yesterday"</span></a></code></pre></div>
</li>
<li>
<p>This regular expression will match any pair of repeated letters, where <em>letters</em> is defined to be the ASCII letters A-Z.
First, check that it works with the example in the problem.</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb464-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="st">"church"</span>, <span class="st">"([A-Za-z][A-Za-z]).*</span><span class="ch">\\</span><span class="st">1"</span>)</a>
<a class="sourceLine" id="cb464-2" data-line-number="2"><span class="co">#&gt; [1] "church"</span></a></code></pre></div>
<p>Now, find all matching words in <code>words</code>.</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb465-1" data-line-number="1"><span class="kw">str_subset</span>(words, <span class="st">"([A-Za-z][A-Za-z]).*</span><span class="ch">\\</span><span class="st">1"</span>)</a>
<a class="sourceLine" id="cb465-2" data-line-number="2"><span class="co">#&gt;  [1] "appropriate" "church"      "condition"   "decide"      "environment"</span></a>
<a class="sourceLine" id="cb465-3" data-line-number="3"><span class="co">#&gt;  [6] "london"      "paragraph"   "particular"  "photograph"  "prepare"    </span></a>
<a class="sourceLine" id="cb465-4" data-line-number="4"><span class="co">#&gt; [11] "pressure"    "remember"    "represent"   "require"     "sense"      </span></a>
<a class="sourceLine" id="cb465-5" data-line-number="5"><span class="co">#&gt; [16] "therefore"   "understand"  "whether"</span></a></code></pre></div>
<p>The <code>\\1</code> pattern is called a backreference. It matches whatever the first group
matched. This allows the pattern to match a repeating pair of letters without having
to specify exactly what pair letters is being repeated.</p>
<p>Note that these patterns are case sensitive. Use the
case insensitive flag if you want to check for repeated pairs
of letters with different capitalization.</p>
</li>
<li>
<p>This regex matches words that contain one letter repeated in at least three places.
First, check that it works with th example given in the question.</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb466-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="st">"eleven"</span>, <span class="st">"([a-z]).*</span><span class="ch">\\</span><span class="st">1.*</span><span class="ch">\\</span><span class="st">1"</span>)</a>
<a class="sourceLine" id="cb466-2" data-line-number="2"><span class="co">#&gt; [1] "eleven"</span></a></code></pre></div>
<p>Now, retrieve the matching words in <code>words</code>.</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb467-1" data-line-number="1"><span class="kw">str_subset</span>(words, <span class="st">"([a-z]).*</span><span class="ch">\\</span><span class="st">1.*</span><span class="ch">\\</span><span class="st">1"</span>)</a>
<a class="sourceLine" id="cb467-2" data-line-number="2"><span class="co">#&gt;  [1] "appropriate" "available"   "believe"     "between"     "business"   </span></a>
<a class="sourceLine" id="cb467-3" data-line-number="3"><span class="co">#&gt;  [6] "degree"      "difference"  "discuss"     "eleven"      "environment"</span></a>
<a class="sourceLine" id="cb467-4" data-line-number="4"><span class="co">#&gt; [11] "evidence"    "exercise"    "expense"     "experience"  "individual" </span></a>
<a class="sourceLine" id="cb467-5" data-line-number="5"><span class="co">#&gt; [16] "paragraph"   "receive"     "remember"    "represent"   "telephone"  </span></a>
<a class="sourceLine" id="cb467-6" data-line-number="6"><span class="co">#&gt; [21] "therefore"   "tomorrow"</span></a></code></pre></div>
</li>
</ol>
</div>
</div>
</div>
</section>
</div>
<div id="tools" class="section level2 r4ds-section">
<h2>
<a href="#tools" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.4</span> Tools<a href="https://r4ds.had.co.nz/strings.html#tools" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h2>
<div id="detect-matches" class="section level3 r4ds-section">
<h3>
<a href="#detect-matches" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.4.1</span> Detect matches<a href="https://r4ds.had.co.nz/strings.html#detect-matches" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.4.1.1" class="section level4 unnumbered exercise" data-number="14.4.1.1">
<h4>Exercise 14.4.1.1<a href="#exercise-14.4.1.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>For each of the following challenges, try solving it by using both a single regular expression, and a combination of multiple <code>str_detect()</code> calls.</p>
<ol style="list-style-type: decimal">
<li>Find all words that start or end with x.</li>
<li>Find all words that start with a vowel and end with a consonant.</li>
<li>Are there any words that contain at least one of each different vowel?</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li>
<p>Words that start or end with <code>x</code>?</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb468-1" data-line-number="1"><span class="co"># one regex</span></a>
<a class="sourceLine" id="cb468-2" data-line-number="2">words[<span class="kw">str_detect</span>(words, <span class="st">"^x|x$"</span>)]</a>
<a class="sourceLine" id="cb468-3" data-line-number="3"><span class="co">#&gt; [1] "box" "sex" "six" "tax"</span></a>
<a class="sourceLine" id="cb468-4" data-line-number="4"><span class="co"># split regex into parts</span></a>
<a class="sourceLine" id="cb468-5" data-line-number="5">start_with_x &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">"^x"</span>)</a>
<a class="sourceLine" id="cb468-6" data-line-number="6">end_with_x &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">"x$"</span>)</a>
<a class="sourceLine" id="cb468-7" data-line-number="7">words[start_with_x <span class="op">|</span><span class="st"> </span>end_with_x]</a>
<a class="sourceLine" id="cb468-8" data-line-number="8"><span class="co">#&gt; [1] "box" "sex" "six" "tax"</span></a></code></pre></div>
</li>
<li>
<p>Words starting with vowel and ending with consonant.</p>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb469-1" data-line-number="1"><span class="kw">str_subset</span>(words, <span class="st">"^[aeiou].*[^aeiou]$"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb469-2" data-line-number="2"><span class="co">#&gt; [1] "about"   "accept"  "account" "across"  "act"     "actual"</span></a>
<a class="sourceLine" id="cb469-3" data-line-number="3">start_with_vowel &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">"^[aeiou]"</span>)</a>
<a class="sourceLine" id="cb469-4" data-line-number="4">end_with_consonant &lt;-<span class="st"> </span><span class="kw">str_detect</span>(words, <span class="st">"[^aeiou]$"</span>)</a>
<a class="sourceLine" id="cb469-5" data-line-number="5">words[start_with_vowel <span class="op">&amp;</span><span class="st"> </span>end_with_consonant] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb469-6" data-line-number="6"><span class="co">#&gt; [1] "about"   "accept"  "account" "across"  "act"     "actual"</span></a></code></pre></div>
</li>
<li>
<p>There is not a simple regular expression to match words that
that contain at least one of each vowel. The regular expression
would need to consider all possible orders in which the vowels
could occur.</p>
<div class="sourceCode" id="cb470"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb470-1" data-line-number="1">pattern &lt;-</a>
<a class="sourceLine" id="cb470-2" data-line-number="2"><span class="st">  </span><span class="kw">cross</span>(<span class="kw">rerun</span>(<span class="dv">5</span>, <span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"e"</span>, <span class="st">"i"</span>, <span class="st">"o"</span>, <span class="st">"u"</span>)),</a>
<a class="sourceLine" id="cb470-3" data-line-number="3">    <span class="dt">.filter =</span> <span class="cf">function</span>(...) {</a>
<a class="sourceLine" id="cb470-4" data-line-number="4">      x &lt;-<span class="st"> </span><span class="kw">as.character</span>(<span class="kw">unlist</span>(<span class="kw">list</span>(...)))</a>
<a class="sourceLine" id="cb470-5" data-line-number="5">      <span class="kw">length</span>(x) <span class="op">!=</span><span class="st"> </span><span class="kw">length</span>(<span class="kw">unique</span>(x))</a>
<a class="sourceLine" id="cb470-6" data-line-number="6">    }</a>
<a class="sourceLine" id="cb470-7" data-line-number="7">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb470-8" data-line-number="8"><span class="st">  </span><span class="kw">map_chr</span>(<span class="op">~</span><span class="kw">str_c</span>(<span class="kw">unlist</span>(.x), <span class="dt">collapse =</span> <span class="st">".*"</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb470-9" data-line-number="9"><span class="st">  </span><span class="kw">str_c</span>(<span class="dt">collapse =</span> <span class="st">"|"</span>)</a></code></pre></div>
<p>To check that this pattern works, test it on a pattern that
should match</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb471-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="st">"aseiouds"</span>, pattern)</a>
<a class="sourceLine" id="cb471-2" data-line-number="2"><span class="co">#&gt; [1] "aseiouds"</span></a></code></pre></div>
<p>Using multiple <code>str_detect()</code> calls, one pattern for each vowel,
produces a much simpler and readable answer.</p>
<div class="sourceCode" id="cb472"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb472-1" data-line-number="1"><span class="kw">str_subset</span>(words, pattern)</a>
<a class="sourceLine" id="cb472-2" data-line-number="2"><span class="co">#&gt; character(0)</span></a>
<a class="sourceLine" id="cb472-3" data-line-number="3"></a>
<a class="sourceLine" id="cb472-4" data-line-number="4">words[<span class="kw">str_detect</span>(words, <span class="st">"a"</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb472-5" data-line-number="5"><span class="st">  </span><span class="kw">str_detect</span>(words, <span class="st">"e"</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb472-6" data-line-number="6"><span class="st">  </span><span class="kw">str_detect</span>(words, <span class="st">"i"</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb472-7" data-line-number="7"><span class="st">  </span><span class="kw">str_detect</span>(words, <span class="st">"o"</span>) <span class="op">&amp;</span></a>
<a class="sourceLine" id="cb472-8" data-line-number="8"><span class="st">  </span><span class="kw">str_detect</span>(words, <span class="st">"u"</span>)]</a>
<a class="sourceLine" id="cb472-9" data-line-number="9"><span class="co">#&gt; character(0)</span></a></code></pre></div>
<p>There appear to be none.</p>
</li>
</ol>
</div>
</div>
<div id="exercise-14.4.1.2" class="section level4 unnumbered exercise" data-number="14.4.1.2">
<h4>Exercise 14.4.1.2<a href="#exercise-14.4.1.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>What word has the higher number of vowels? What word has the highest proportion of vowels? (Hint: what is the denominator?)</p>
</div>
<div class="answer">
<p>The word with the highest number of vowels is</p>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb473-1" data-line-number="1">vowels &lt;-<span class="st"> </span><span class="kw">str_count</span>(words, <span class="st">"[aeiou]"</span>)</a>
<a class="sourceLine" id="cb473-2" data-line-number="2">words[<span class="kw">which</span>(vowels <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(vowels))]</a>
<a class="sourceLine" id="cb473-3" data-line-number="3"><span class="co">#&gt; [1] "appropriate" "associate"   "available"   "colleague"   "encourage"  </span></a>
<a class="sourceLine" id="cb473-4" data-line-number="4"><span class="co">#&gt; [6] "experience"  "individual"  "television"</span></a></code></pre></div>
<p>The word with the highest proportion of vowels is</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb474-1" data-line-number="1">prop_vowels &lt;-<span class="st"> </span><span class="kw">str_count</span>(words, <span class="st">"[aeiou]"</span>) <span class="op">/</span><span class="st"> </span><span class="kw">str_length</span>(words)</a>
<a class="sourceLine" id="cb474-2" data-line-number="2">words[<span class="kw">which</span>(prop_vowels <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(prop_vowels))]</a>
<a class="sourceLine" id="cb474-3" data-line-number="3"><span class="co">#&gt; [1] "a"</span></a></code></pre></div>
</div>
</div>
</div>
<div id="extract-matches" class="section level3 r4ds-section">
<h3>
<a href="#extract-matches" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.4.2</span> Extract matches<a href="https://r4ds.had.co.nz/strings.html#extract-matches" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.4.2.1" class="section level4 unnumbered exercise" data-number="14.4.2.1">
<h4>Exercise 14.4.2.1<a href="#exercise-14.4.2.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>In the previous example, you might have noticed that the regular expression matched “flickered”, which is not a color.
Modify the regex to fix the problem.</p>
</div>
<div class="answer">
<p>This was the original color match pattern:</p>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb475-1" data-line-number="1">colours &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"red"</span>, <span class="st">"orange"</span>, <span class="st">"yellow"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"purple"</span>)</a>
<a class="sourceLine" id="cb475-2" data-line-number="2">colour_match &lt;-<span class="st"> </span><span class="kw">str_c</span>(colours, <span class="dt">collapse =</span> <span class="st">"|"</span>)</a></code></pre></div>
<p>It matches “flickered” because it matches “red”.
The problem is that the previous pattern will match any word with the name of a color inside it. We want to only match colors in which the entire word is the name of the color.
We can do this by adding a <code>\b</code> (to indicate a word boundary) before and after the pattern:</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb476-1" data-line-number="1">colour_match2 &lt;-<span class="st"> </span><span class="kw">str_c</span>(<span class="st">"</span><span class="ch">\\</span><span class="st">b("</span>, <span class="kw">str_c</span>(colours, <span class="dt">collapse =</span> <span class="st">"|"</span>), <span class="st">")</span><span class="ch">\\</span><span class="st">b"</span>)</a>
<a class="sourceLine" id="cb476-2" data-line-number="2">colour_match2</a>
<a class="sourceLine" id="cb476-3" data-line-number="3"><span class="co">#&gt; [1] "\\b(red|orange|yellow|green|blue|purple)\\b"</span></a></code></pre></div>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb477-1" data-line-number="1">more2 &lt;-<span class="st"> </span>sentences[<span class="kw">str_count</span>(sentences, colour_match) <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span>]</a></code></pre></div>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb478-1" data-line-number="1"><span class="kw">str_view_all</span>(more2, colour_match2, <span class="dt">match =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="htmlwidget-46d1193f7ba074d981c8" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-46d1193f7ba074d981c8">{"x":{"html":"<ul>\n  <li>It is hard to erase <span class='match'>blue<\/span> or <span class='match'>red<\/span> ink.<\/li>\n  <li>The <span class='match'>green<\/span> light in the brown box flickered.<\/li>\n  <li>The sky in the west is tinged with <span class='match'>orange<\/span> <span class='match'>red<\/span>.<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="exercise-14.4.2.2" class="section level4 unnumbered exercise" data-number="14.4.2.2">
<h4>Exercise 14.4.2.2<a href="#exercise-14.4.2.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>From the Harvard sentences data, extract:</p>
<ol style="list-style-type: decimal">
<li>The first word from each sentence.</li>
<li>All words ending in <code>ing</code>.</li>
<li>All plurals.</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li>
<p>Finding the first word in each sentence requires defining what a pattern constitutes a word. For the purposes of this question,
I’ll consider a word any contiguous set of letters.
Since <code>str_extract()</code> will extract the first match, if it is provided a
regular expression for words, it will return the first word.</p>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb479-1" data-line-number="1"><span class="kw">str_extract</span>(sentences, <span class="st">"[A-ZAa-z]+"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb479-2" data-line-number="2"><span class="co">#&gt; [1] "The"   "Glue"  "It"    "These" "Rice"  "The"</span></a></code></pre></div>
<p>However, the third sentence begins with “It’s”. To catch this, I’ll
change the regular expression to require the string to begin with a letter,
but allow for a subsequent apostrophe.</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb480-1" data-line-number="1"><span class="kw">str_extract</span>(sentences, <span class="st">"[A-Za-z][A-Za-z']*"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb480-2" data-line-number="2"><span class="co">#&gt; [1] "The"   "Glue"  "It's"  "These" "Rice"  "The"</span></a></code></pre></div>
</li>
<li>
<p>This pattern finds all words ending in <code>ing</code>.</p>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb481-1" data-line-number="1">pattern &lt;-<span class="st"> "</span><span class="ch">\\</span><span class="st">b[A-Za-z]+ing</span><span class="ch">\\</span><span class="st">b"</span></a>
<a class="sourceLine" id="cb481-2" data-line-number="2">sentences_with_ing &lt;-<span class="st"> </span><span class="kw">str_detect</span>(sentences, pattern)</a>
<a class="sourceLine" id="cb481-3" data-line-number="3"><span class="kw">unique</span>(<span class="kw">unlist</span>(<span class="kw">str_extract_all</span>(sentences[sentences_with_ing], pattern))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb481-4" data-line-number="4"><span class="st">  </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb481-5" data-line-number="5"><span class="co">#&gt; [1] "spring"  "evening" "morning" "winding" "living"  "king"</span></a></code></pre></div>
</li>
<li>
<p>Finding all plurals cannot be correctly accomplished with regular expressions alone.
Finding plural words would at least require morphological information about words in the language.
See <a href="https://cran.r-project.org/web/packages/wordnet/index.html">WordNet</a> for a resource that would do that.
However, identifying words that end in an “s” and with more than three characters, in order to remove “as”, “is”, “gas”, etc., is
a reasonable heuristic.</p>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb482-1" data-line-number="1"><span class="kw">unique</span>(<span class="kw">unlist</span>(<span class="kw">str_extract_all</span>(sentences, <span class="st">"</span><span class="ch">\\</span><span class="st">b[A-Za-z]{3,}s</span><span class="ch">\\</span><span class="st">b"</span>))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb482-2" data-line-number="2"><span class="st">  </span><span class="kw">head</span>()</a>
<a class="sourceLine" id="cb482-3" data-line-number="3"><span class="co">#&gt; [1] "planks" "days"   "bowls"  "lemons" "makes"  "hogs"</span></a></code></pre></div>
</li>
</ol>
</div>
</div>
</div>
<div id="grouped-matches" class="section level3 r4ds-section">
<h3>
<a href="#grouped-matches" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.4.3</span> Grouped matches<a href="https://r4ds.had.co.nz/strings.html#grouped-matches" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.4.3.1" class="section level4 unnumbered exercise" data-number="14.4.3.1">
<h4>Exercise 14.4.3.1<a href="#exercise-14.4.3.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Find all words that come after a “number” like “one”, “two”, “three” etc.
Pull out both the number and the word.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb483-1" data-line-number="1">numword &lt;-<span class="st"> "</span><span class="ch">\\</span><span class="st">b(one|two|three|four|five|six|seven|eight|nine|ten) +(</span><span class="ch">\\</span><span class="st">w+)"</span></a>
<a class="sourceLine" id="cb483-2" data-line-number="2">sentences[<span class="kw">str_detect</span>(sentences, numword)] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb483-3" data-line-number="3"><span class="st">  </span><span class="kw">str_extract</span>(numword)</a>
<a class="sourceLine" id="cb483-4" data-line-number="4"><span class="co">#&gt;  [1] "seven books"   "two met"       "two factors"   "three lists"  </span></a>
<a class="sourceLine" id="cb483-5" data-line-number="5"><span class="co">#&gt;  [5] "seven is"      "two when"      "ten inches"    "one war"      </span></a>
<a class="sourceLine" id="cb483-6" data-line-number="6"><span class="co">#&gt;  [9] "one button"    "six minutes"   "ten years"     "two shares"   </span></a>
<a class="sourceLine" id="cb483-7" data-line-number="7"><span class="co">#&gt; [13] "two distinct"  "five cents"    "two pins"      "five robins"  </span></a>
<a class="sourceLine" id="cb483-8" data-line-number="8"><span class="co">#&gt; [17] "four kinds"    "three story"   "three inches"  "six comes"    </span></a>
<a class="sourceLine" id="cb483-9" data-line-number="9"><span class="co">#&gt; [21] "three batches" "two leaves"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.3.2" class="section level4 unnumbered exercise" data-number="14.4.3.2">
<h4>Exercise 14.4.3.2<a href="#exercise-14.4.3.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Find all contractions.
Separate out the pieces before and after the apostrophe.</p>
</div>
<div class="answer">
<p>This is done in two steps. First, identify the contractions. Second, split the string on the contraction.</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb484-1" data-line-number="1">contraction &lt;-<span class="st"> "([A-Za-z]+)'([A-Za-z]+)"</span></a>
<a class="sourceLine" id="cb484-2" data-line-number="2">sentences[<span class="kw">str_detect</span>(sentences, contraction)] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb484-3" data-line-number="3"><span class="st">  </span><span class="kw">str_extract</span>(contraction) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb484-4" data-line-number="4"><span class="st">  </span><span class="kw">str_split</span>(<span class="st">"'"</span>)</a>
<a class="sourceLine" id="cb484-5" data-line-number="5"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb484-6" data-line-number="6"><span class="co">#&gt; [1] "It" "s" </span></a>
<a class="sourceLine" id="cb484-7" data-line-number="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-8" data-line-number="8"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb484-9" data-line-number="9"><span class="co">#&gt; [1] "man" "s"  </span></a>
<a class="sourceLine" id="cb484-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-11" data-line-number="11"><span class="co">#&gt; [[3]]</span></a>
<a class="sourceLine" id="cb484-12" data-line-number="12"><span class="co">#&gt; [1] "don" "t"  </span></a>
<a class="sourceLine" id="cb484-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-14" data-line-number="14"><span class="co">#&gt; [[4]]</span></a>
<a class="sourceLine" id="cb484-15" data-line-number="15"><span class="co">#&gt; [1] "store" "s"    </span></a>
<a class="sourceLine" id="cb484-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-17" data-line-number="17"><span class="co">#&gt; [[5]]</span></a>
<a class="sourceLine" id="cb484-18" data-line-number="18"><span class="co">#&gt; [1] "workmen" "s"      </span></a>
<a class="sourceLine" id="cb484-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-20" data-line-number="20"><span class="co">#&gt; [[6]]</span></a>
<a class="sourceLine" id="cb484-21" data-line-number="21"><span class="co">#&gt; [1] "Let" "s"  </span></a>
<a class="sourceLine" id="cb484-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-23" data-line-number="23"><span class="co">#&gt; [[7]]</span></a>
<a class="sourceLine" id="cb484-24" data-line-number="24"><span class="co">#&gt; [1] "sun" "s"  </span></a>
<a class="sourceLine" id="cb484-25" data-line-number="25"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-26" data-line-number="26"><span class="co">#&gt; [[8]]</span></a>
<a class="sourceLine" id="cb484-27" data-line-number="27"><span class="co">#&gt; [1] "child" "s"    </span></a>
<a class="sourceLine" id="cb484-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-29" data-line-number="29"><span class="co">#&gt; [[9]]</span></a>
<a class="sourceLine" id="cb484-30" data-line-number="30"><span class="co">#&gt; [1] "king" "s"   </span></a>
<a class="sourceLine" id="cb484-31" data-line-number="31"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-32" data-line-number="32"><span class="co">#&gt; [[10]]</span></a>
<a class="sourceLine" id="cb484-33" data-line-number="33"><span class="co">#&gt; [1] "It" "s" </span></a>
<a class="sourceLine" id="cb484-34" data-line-number="34"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-35" data-line-number="35"><span class="co">#&gt; [[11]]</span></a>
<a class="sourceLine" id="cb484-36" data-line-number="36"><span class="co">#&gt; [1] "don" "t"  </span></a>
<a class="sourceLine" id="cb484-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-38" data-line-number="38"><span class="co">#&gt; [[12]]</span></a>
<a class="sourceLine" id="cb484-39" data-line-number="39"><span class="co">#&gt; [1] "queen" "s"    </span></a>
<a class="sourceLine" id="cb484-40" data-line-number="40"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-41" data-line-number="41"><span class="co">#&gt; [[13]]</span></a>
<a class="sourceLine" id="cb484-42" data-line-number="42"><span class="co">#&gt; [1] "don" "t"  </span></a>
<a class="sourceLine" id="cb484-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-44" data-line-number="44"><span class="co">#&gt; [[14]]</span></a>
<a class="sourceLine" id="cb484-45" data-line-number="45"><span class="co">#&gt; [1] "pirate" "s"     </span></a>
<a class="sourceLine" id="cb484-46" data-line-number="46"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb484-47" data-line-number="47"><span class="co">#&gt; [[15]]</span></a>
<a class="sourceLine" id="cb484-48" data-line-number="48"><span class="co">#&gt; [1] "neighbor" "s"</span></a></code></pre></div>
</div>
</div>
</div>
<div id="replacing-matches" class="section level3 r4ds-section">
<h3>
<a href="#replacing-matches" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.4.4</span> Replacing matches<a href="https://r4ds.had.co.nz/strings.html#replacing-matches" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.4.4.1" class="section level4 unnumbered exercise" data-number="14.4.4.1">
<h4>Exercise 14.4.4.1<a href="#exercise-14.4.4.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Replace all forward slashes in a string with backslashes.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb485-1" data-line-number="1"><span class="kw">str_replace_all</span>(<span class="st">"past/present/future"</span>, <span class="st">"/"</span>, <span class="st">"</span><span class="ch">\\\\</span><span class="st">"</span>)</a>
<a class="sourceLine" id="cb485-2" data-line-number="2"><span class="co">#&gt; [1] "past\\present\\future"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.4.2" class="section level4 unnumbered exercise" data-number="14.4.4.2">
<h4>Exercise 14.4.4.2<a href="#exercise-14.4.4.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Implement a simple version of <code>str_to_lower()</code> using <code>replace_all()</code>.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb486-1" data-line-number="1">replacements &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"A"</span> =<span class="st"> "a"</span>, <span class="st">"B"</span> =<span class="st"> "b"</span>, <span class="st">"C"</span> =<span class="st"> "c"</span>, <span class="st">"D"</span> =<span class="st"> "d"</span>, <span class="st">"E"</span> =<span class="st"> "e"</span>,</a>
<a class="sourceLine" id="cb486-2" data-line-number="2">                  <span class="st">"F"</span> =<span class="st"> "f"</span>, <span class="st">"G"</span> =<span class="st"> "g"</span>, <span class="st">"H"</span> =<span class="st"> "h"</span>, <span class="st">"I"</span> =<span class="st"> "i"</span>, <span class="st">"J"</span> =<span class="st"> "j"</span>, </a>
<a class="sourceLine" id="cb486-3" data-line-number="3">                  <span class="st">"K"</span> =<span class="st"> "k"</span>, <span class="st">"L"</span> =<span class="st"> "l"</span>, <span class="st">"M"</span> =<span class="st"> "m"</span>, <span class="st">"N"</span> =<span class="st"> "n"</span>, <span class="st">"O"</span> =<span class="st"> "o"</span>, </a>
<a class="sourceLine" id="cb486-4" data-line-number="4">                  <span class="st">"P"</span> =<span class="st"> "p"</span>, <span class="st">"Q"</span> =<span class="st"> "q"</span>, <span class="st">"R"</span> =<span class="st"> "r"</span>, <span class="st">"S"</span> =<span class="st"> "s"</span>, <span class="st">"T"</span> =<span class="st"> "t"</span>, </a>
<a class="sourceLine" id="cb486-5" data-line-number="5">                  <span class="st">"U"</span> =<span class="st"> "u"</span>, <span class="st">"V"</span> =<span class="st"> "v"</span>, <span class="st">"W"</span> =<span class="st"> "w"</span>, <span class="st">"X"</span> =<span class="st"> "x"</span>, <span class="st">"Y"</span> =<span class="st"> "y"</span>, </a>
<a class="sourceLine" id="cb486-6" data-line-number="6">                  <span class="st">"Z"</span> =<span class="st"> "z"</span>)</a>
<a class="sourceLine" id="cb486-7" data-line-number="7">lower_words &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(words, <span class="dt">pattern =</span> replacements)</a>
<a class="sourceLine" id="cb486-8" data-line-number="8"><span class="kw">head</span>(lower_words)</a>
<a class="sourceLine" id="cb486-9" data-line-number="9"><span class="co">#&gt; [1] "a"        "able"     "about"    "absolute" "accept"   "account"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.4.3" class="section level4 unnumbered exercise" data-number="14.4.4.3">
<h4>Exercise 14.4.4.3<a href="#exercise-14.4.4.3" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Switch the first and last letters in <code>words</code>. Which of those strings are still words?</p>
</div>
<div class="answer">
<p>First, make a vector of all the words with first and last letters swapped,</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb487-1" data-line-number="1">swapped &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(words, <span class="st">"^([A-Za-z])(.*)([A-Za-z])$"</span>, <span class="st">"</span><span class="ch">\\</span><span class="st">3</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1"</span>)</a></code></pre></div>
<p>Next, find what of “swapped” is also in the original list using the function <code>intersect()</code>,</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb488-1" data-line-number="1"><span class="kw">intersect</span>(swapped, words)</a>
<a class="sourceLine" id="cb488-2" data-line-number="2"><span class="co">#&gt;  [1] "a"          "america"    "area"       "dad"        "dead"      </span></a>
<a class="sourceLine" id="cb488-3" data-line-number="3"><span class="co">#&gt;  [6] "lead"       "read"       "depend"     "god"        "educate"   </span></a>
<a class="sourceLine" id="cb488-4" data-line-number="4"><span class="co">#&gt; [11] "else"       "encourage"  "engine"     "europe"     "evidence"  </span></a>
<a class="sourceLine" id="cb488-5" data-line-number="5"><span class="co">#&gt; [16] "example"    "excuse"     "exercise"   "expense"    "experience"</span></a>
<a class="sourceLine" id="cb488-6" data-line-number="6"><span class="co">#&gt; [21] "eye"        "dog"        "health"     "high"       "knock"     </span></a>
<a class="sourceLine" id="cb488-7" data-line-number="7"><span class="co">#&gt; [26] "deal"       "level"      "local"      "nation"     "on"        </span></a>
<a class="sourceLine" id="cb488-8" data-line-number="8"><span class="co">#&gt; [31] "non"        "no"         "rather"     "dear"       "refer"     </span></a>
<a class="sourceLine" id="cb488-9" data-line-number="9"><span class="co">#&gt; [36] "remember"   "serious"    "stairs"     "test"       "tonight"   </span></a>
<a class="sourceLine" id="cb488-10" data-line-number="10"><span class="co">#&gt; [41] "transport"  "treat"      "trust"      "window"     "yesterday"</span></a></code></pre></div>
<p>Alternatively, the regex can be written using the POSIX character class for letter (<code>[[:alpha:]]</code>):</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb489-1" data-line-number="1">swapped2 &lt;-<span class="st"> </span><span class="kw">str_replace_all</span>(words, <span class="st">"^([[:alpha:]])(.*)([[:alpha:]])$"</span>, <span class="st">"</span><span class="ch">\\</span><span class="st">3</span><span class="ch">\\</span><span class="st">2</span><span class="ch">\\</span><span class="st">1"</span>)</a>
<a class="sourceLine" id="cb489-2" data-line-number="2"><span class="kw">intersect</span>(swapped2, words)</a>
<a class="sourceLine" id="cb489-3" data-line-number="3"><span class="co">#&gt;  [1] "a"          "america"    "area"       "dad"        "dead"      </span></a>
<a class="sourceLine" id="cb489-4" data-line-number="4"><span class="co">#&gt;  [6] "lead"       "read"       "depend"     "god"        "educate"   </span></a>
<a class="sourceLine" id="cb489-5" data-line-number="5"><span class="co">#&gt; [11] "else"       "encourage"  "engine"     "europe"     "evidence"  </span></a>
<a class="sourceLine" id="cb489-6" data-line-number="6"><span class="co">#&gt; [16] "example"    "excuse"     "exercise"   "expense"    "experience"</span></a>
<a class="sourceLine" id="cb489-7" data-line-number="7"><span class="co">#&gt; [21] "eye"        "dog"        "health"     "high"       "knock"     </span></a>
<a class="sourceLine" id="cb489-8" data-line-number="8"><span class="co">#&gt; [26] "deal"       "level"      "local"      "nation"     "on"        </span></a>
<a class="sourceLine" id="cb489-9" data-line-number="9"><span class="co">#&gt; [31] "non"        "no"         "rather"     "dear"       "refer"     </span></a>
<a class="sourceLine" id="cb489-10" data-line-number="10"><span class="co">#&gt; [36] "remember"   "serious"    "stairs"     "test"       "tonight"   </span></a>
<a class="sourceLine" id="cb489-11" data-line-number="11"><span class="co">#&gt; [41] "transport"  "treat"      "trust"      "window"     "yesterday"</span></a></code></pre></div>
</div>
</div>
</div>
<div id="splitting" class="section level3 r4ds-section">
<h3>
<a href="#splitting" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.4.5</span> Splitting<a href="https://r4ds.had.co.nz/strings.html#splitting" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div id="exercise-14.4.5.1" class="section level4 unnumbered exercise" data-number="14.4.5.1">
<h4>Exercise 14.4.5.1<a href="#exercise-14.4.5.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Split up a string like <code>"apples, pears, and bananas"</code> into individual components.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb490-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"apples, pears, and bananas"</span>)</a>
<a class="sourceLine" id="cb490-2" data-line-number="2"><span class="kw">str_split</span>(x, <span class="st">", +(and +)?"</span>)[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb490-3" data-line-number="3"><span class="co">#&gt; [1] "apples"  "pears"   "bananas"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.5.2" class="section level4 unnumbered exercise" data-number="14.4.5.2">
<h4>Exercise 14.4.5.2<a href="#exercise-14.4.5.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>Why is it better to split up by <code>boundary("word")</code> than <code>" "</code>?</p>
</div>
<div class="answer">
<p>Splitting by <code>boundary("word")</code> is a more sophisticated method to split a string into words.
It recognizes non-space punctuation that splits words, and also removes punctuation while retaining internal non-letter characters that are parts of the word, e.g., “can’t”
See the <a href="http://userguide.icu-project.org/boundaryanalysis">ICU website</a> for a description of the set of rules that are used to determine word boundaries.</p>
<p>Consider this sentence from the official <a href="http://www.unicode.org/reports/tr29/#Word_Boundaries">Unicode Report on word boundaries</a>,</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb491-1" data-line-number="1">sentence &lt;-<span class="st"> "The quick (“brown”) fox can’t jump 32.3 feet, right?"</span></a></code></pre></div>
<p>Splitting the string on spaces considers will group the punctuation with the words,</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb492-1" data-line-number="1"><span class="kw">str_split</span>(sentence, <span class="st">" "</span>)</a>
<a class="sourceLine" id="cb492-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb492-3" data-line-number="3"><span class="co">#&gt; [1] "The"       "quick"     "(“brown”)" "fox"       "can’t"     "jump"     </span></a>
<a class="sourceLine" id="cb492-4" data-line-number="4"><span class="co">#&gt; [7] "32.3"      "feet,"     "right?"</span></a></code></pre></div>
<p>However, splitting the string using <code>boundary("word")</code> correctly removes punctuation, while not
separating “32.2” and “can’t”,</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb493-1" data-line-number="1"><span class="kw">str_split</span>(sentence, <span class="kw">boundary</span>(<span class="st">"word"</span>))</a>
<a class="sourceLine" id="cb493-2" data-line-number="2"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb493-3" data-line-number="3"><span class="co">#&gt; [1] "The"   "quick" "brown" "fox"   "can’t" "jump"  "32.3"  "feet"  "right"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.4.5.3" class="section level4 unnumbered exercise" data-number="14.4.5.3">
<h4>Exercise 14.4.5.3<a href="#exercise-14.4.5.3" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h4>
<div class="question">
<p>What does splitting with an empty string <code>("")</code> do? Experiment, and then read the documentation.</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb494-1" data-line-number="1"><span class="kw">str_split</span>(<span class="st">"ab. cd|agt"</span>, <span class="st">""</span>)[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb494-2" data-line-number="2"><span class="co">#&gt;  [1] "a" "b" "." " " "c" "d" "|" "a" "g" "t"</span></a></code></pre></div>
<p>It splits the string into individual characters.</p>
</div>
</div>
</div>
<div id="find-matches" class="section level3 r4ds-section">
<h3>
<a href="#find-matches" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.4.6</span> Find matches<a href="https://r4ds.had.co.nz/strings.html#find-matches" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h3>
<div class="alert alert-warning hints-alert">
<div class="hints-icon">
<i class="fa fa-exclamation-circle"></i>
</div>
<div class="hints-container">No exercises</div>
</div>
</div>
</div>
<div id="other-types-of-pattern" class="section level2 r4ds-section">
<h2>
<a href="#other-types-of-pattern" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.5</span> Other types of pattern<a href="https://r4ds.had.co.nz/strings.html#other-types-of-pattern" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h2>
<div id="exercise-14.5.1" class="section level3 unnumbered exercise" data-number="14.5.1">
<h3>Exercise 14.5.1<a href="#exercise-14.5.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>How would you find all strings containing <code>\</code> with <code>regex()</code> vs. with <code>fixed()</code>?</p>
</div>
<div class="answer">
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb495-1" data-line-number="1"><span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">"a</span><span class="ch">\\</span><span class="st">b"</span>, <span class="st">"ab"</span>), <span class="st">"</span><span class="ch">\\\\</span><span class="st">"</span>)</a>
<a class="sourceLine" id="cb495-2" data-line-number="2"><span class="co">#&gt; [1] "a\\b"</span></a>
<a class="sourceLine" id="cb495-3" data-line-number="3"><span class="kw">str_subset</span>(<span class="kw">c</span>(<span class="st">"a</span><span class="ch">\\</span><span class="st">b"</span>, <span class="st">"ab"</span>), <span class="kw">fixed</span>(<span class="st">"</span><span class="ch">\\</span><span class="st">"</span>))</a>
<a class="sourceLine" id="cb495-4" data-line-number="4"><span class="co">#&gt; [1] "a\\b"</span></a></code></pre></div>
</div>
</div>
<div id="exercise-14.5.2" class="section level3 unnumbered exercise" data-number="14.5.2">
<h3>Exercise 14.5.2<a href="#exercise-14.5.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>What are the five most common words in <code>sentences</code>?</p>
</div>
<div class="answer">
<p>Using <code>str_extract_all()</code> with the argument <code>boundary("word")</code> will extract all words.
The rest of the code uses dplyr functions to count words and find the most
common words.</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb496-1" data-line-number="1"><span class="kw">tibble</span>(<span class="dt">word =</span> <span class="kw">unlist</span>(<span class="kw">str_extract_all</span>(sentences, <span class="kw">boundary</span>(<span class="st">"word"</span>)))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb496-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">word =</span> <span class="kw">str_to_lower</span>(word)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb496-3" data-line-number="3"><span class="st">  </span><span class="kw">count</span>(word, <span class="dt">sort =</span> <span class="ot">TRUE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb496-4" data-line-number="4"><span class="st">  </span><span class="kw">head</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb496-5" data-line-number="5"><span class="co">#&gt; # A tibble: 5 x 2</span></a>
<a class="sourceLine" id="cb496-6" data-line-number="6"><span class="co">#&gt;   word      n</span></a>
<a class="sourceLine" id="cb496-7" data-line-number="7"><span class="co">#&gt;   &lt;chr&gt; &lt;int&gt;</span></a>
<a class="sourceLine" id="cb496-8" data-line-number="8"><span class="co">#&gt; 1 the     751</span></a>
<a class="sourceLine" id="cb496-9" data-line-number="9"><span class="co">#&gt; 2 a       202</span></a>
<a class="sourceLine" id="cb496-10" data-line-number="10"><span class="co">#&gt; 3 of      132</span></a>
<a class="sourceLine" id="cb496-11" data-line-number="11"><span class="co">#&gt; 4 to      123</span></a>
<a class="sourceLine" id="cb496-12" data-line-number="12"><span class="co">#&gt; 5 and     118</span></a></code></pre></div>
</div>
</div>
</div>
<div id="other-uses-of-regular-expressions" class="section level2 r4ds-section">
<h2>
<a href="#other-uses-of-regular-expressions" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.6</span> Other uses of regular expressions<a href="https://r4ds.had.co.nz/strings.html#other-uses-of-regular-expressions" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h2>
<div class="alert alert-warning hints-alert">
<div class="hints-icon">
<i class="fa fa-exclamation-circle"></i>
</div>
<div class="hints-container">No exercises</div>
</div>
</div>
<div id="stringi" class="section level2 r4ds-section">
<h2>
<a href="#stringi" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a><span class="header-section-number">14.7</span> stringi<a href="https://r4ds.had.co.nz/strings.html#stringi" class="r4ds-section-link section-link" aria-hidden="true"><i class="fa fa-external-link" aria-hidden="true"></i></a>
</h2>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb497-1" data-line-number="1"><span class="kw">library</span>(<span class="st">"stringi"</span>)</a></code></pre></div>
<div id="exercise-14.7.1" class="section level3 unnumbered exercise" data-number="14.7.1">
<h3>Exercise 14.7.1<a href="#exercise-14.7.1" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>Find the stringi functions that:</p>
<ol style="list-style-type: decimal">
<li>Count the number of words.</li>
<li>Find duplicated strings.</li>
<li>Generate random text.</li>
</ol>
</div>
<div class="answer">
<p>The answer to each part follows.</p>
<ol style="list-style-type: decimal">
<li>
<p>To count the number of words use <code>stringi::stri_count_words()</code>.
This code counts the words in the first five sentences of <code>sentences</code>.</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb498-1" data-line-number="1"><span class="kw">stri_count_words</span>(<span class="kw">head</span>(sentences))</a>
<a class="sourceLine" id="cb498-2" data-line-number="2"><span class="co">#&gt; [1] 8 8 9 9 7 7</span></a></code></pre></div>
</li>
<li>
<p>The <code>stringi::stri_duplicated()</code> function finds duplicate strings.</p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb499-1" data-line-number="1"><span class="kw">stri_duplicated</span>(<span class="kw">c</span>(<span class="st">"the"</span>, <span class="st">"brown"</span>, <span class="st">"cow"</span>, <span class="st">"jumped"</span>, <span class="st">"over"</span>,</a>
<a class="sourceLine" id="cb499-2" data-line-number="2">                           <span class="st">"the"</span>, <span class="st">"lazy"</span>, <span class="st">"fox"</span>))</a>
<a class="sourceLine" id="cb499-3" data-line-number="3"><span class="co">#&gt; [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</span></a></code></pre></div>
</li>
<li>
<p>The <em>stringi</em> package contains several functions beginning with <code>stri_rand_*</code> that generate random text.
The function <code>stringi::stri_rand_strings()</code> generates random strings.
The following code generates four random strings each of length five.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb500-1" data-line-number="1"><span class="kw">stri_rand_strings</span>(<span class="dv">4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb500-2" data-line-number="2"><span class="co">#&gt; [1] "5pb90" "SUHjl" "sA2JO" "CP3Oy"</span></a></code></pre></div>
<p>The function <code>stringi::stri_rand_shuffle()</code> randomly shuffles the characters in the text.</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb501-1" data-line-number="1"><span class="kw">stri_rand_shuffle</span>(<span class="st">"The brown fox jumped over the lazy cow."</span>)</a>
<a class="sourceLine" id="cb501-2" data-line-number="2"><span class="co">#&gt; [1] "ot f.lween p   jzwoom xyucobhv daheerrT"</span></a></code></pre></div>
<p>The function <code>stringi::stri_rand_lipsum()</code> generates <a href="https://en.wikipedia.org/wiki/Lorem_ipsum">lorem ipsum</a> text.
Lorem ipsum text is nonsense text often used as placeholder text in publishing.
The following code generates one paragraph of placeholder text.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb502-1" data-line-number="1"><span class="kw">stri_rand_lipsum</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb502-2" data-line-number="2"><span class="co">#&gt; [1] "Lorem ipsum dolor sit amet, hac non metus cras nam vitae tempus proin, sed. Diam gravida viverra eros mauris, magna lacinia dui nullam. Arcu proin aenean fringilla sed sollicitudin hac neque, egestas condimentum massa, elementum vivamus. Odio eget litora molestie eget eros pulvinar ac. Vel nec nullam vivamus, sociosqu lectus varius eleifend. Vitae in. Conubia ut hac maximus amet, conubia sed. Volutpat vitae class cursus, elit mauris porta. Mauris lacus donec odio eget quam inceptos, ridiculus cursus, ad massa. Rhoncus hac aenean at id consectetur molestie vitae! Sed, primis mi dictum lacinia eros. Ligula, feugiat consequat ut vivamus ut morbi et. Dolor, eget eleifend nec magnis aliquam egestas. Sollicitudin venenatis et aptent rhoncus nisl platea ligula cum."</span></a></code></pre></div>
</li>
</ol>
</div>
</div>
<div id="exercise-14.7.2" class="section level3 unnumbered exercise" data-number="14.7.2">
<h3>Exercise 14.7.2<a href="#exercise-14.7.2" class="anchor section-link" aria-hidden="true"><i class="fa fa-link" aria-hidden="true"></i></a>
</h3>
<div class="question">
<p>How do you control the language that <code>stri_sort()</code> uses for sorting?</p>
</div>
<div class="answer">
<p>You can set a locale to use when sorting with either <code>stri_sort(..., opts_collator=stri_opts_collator(locale = ...))</code> or <code>stri_sort(..., locale = ...)</code>.
In this example from the <code>stri_sort()</code> documentation, the sorted order of the character vector depends on the locale.</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb503-1" data-line-number="1">string1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"hladny"</span>, <span class="st">"chladny"</span>)</a>
<a class="sourceLine" id="cb503-2" data-line-number="2"><span class="kw">stri_sort</span>(string1, <span class="dt">locale =</span> <span class="st">"pl_PL"</span>)</a>
<a class="sourceLine" id="cb503-3" data-line-number="3"><span class="co">#&gt; [1] "chladny" "hladny"</span></a>
<a class="sourceLine" id="cb503-4" data-line-number="4"><span class="kw">stri_sort</span>(string1, <span class="dt">locale =</span> <span class="st">"sk_SK"</span>)</a>
<a class="sourceLine" id="cb503-5" data-line-number="5"><span class="co">#&gt; [1] "hladny"  "chladny"</span></a></code></pre></div>
<p>The output of <code>stri_opts_collator()</code> can also be used for the <code>locale</code> argument of <code>str_sort</code>.</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb504-1" data-line-number="1"><span class="kw">stri_sort</span>(string1, <span class="dt">opts_collator =</span> <span class="kw">stri_opts_collator</span>(<span class="dt">locale =</span> <span class="st">"pl_PL"</span>))</a>
<a class="sourceLine" id="cb504-2" data-line-number="2"><span class="co">#&gt; [1] "chladny" "hladny"</span></a>
<a class="sourceLine" id="cb504-3" data-line-number="3"><span class="kw">stri_sort</span>(string1, <span class="dt">opts_collator =</span> <span class="kw">stri_opts_collator</span>(<span class="dt">locale =</span> <span class="st">"sk_SK"</span>))</a>
<a class="sourceLine" id="cb504-4" data-line-number="4"><span class="co">#&gt; [1] "hladny"  "chladny"</span></a></code></pre></div>
<p>The <code>stri_opts_collator()</code> provides finer grained control over how strings are sorted.
In addition to setting the locale, it has options to customize how cases, unicode, accents, and numeric values are handled when comparing strings.</p>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb505-1" data-line-number="1">string2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"number100"</span>, <span class="st">"number2"</span>)</a>
<a class="sourceLine" id="cb505-2" data-line-number="2"><span class="kw">stri_sort</span>(string2)</a>
<a class="sourceLine" id="cb505-3" data-line-number="3"><span class="co">#&gt; [1] "number100" "number2"</span></a>
<a class="sourceLine" id="cb505-4" data-line-number="4"><span class="kw">stri_sort</span>(string2, <span class="dt">opts_collator =</span> <span class="kw">stri_opts_collator</span>(<span class="dt">numeric =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb505-5" data-line-number="5"><span class="co">#&gt; [1] "number2"   "number100"</span></a></code></pre></div>
</div>

</div>
</div>
</div>
            

          </div>
        </div>
      </div>
<a href="relational-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="factors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    
  
<script src="libs/gitbook-2.6.7/js/app.min.js"></script><script src="libs/gitbook-2.6.7/js/lunr.js"></script><script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script><script src="libs/gitbook-2.6.7/js/plugin-search.js"></script><script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script><script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script><script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script><script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script><script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script><script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"google": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jrnold/r4ds-exercise-solutions/edit/master/strings.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/jrnold/r4ds-exercise-solutions/commits/master/strings.Rmd",
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
